/* Generated by Nim Compiler v0.11.2 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Windows, amd64, gcc */
/* Command for C compiler:
   C:\Nim\dist\mingw\bin\gcc.exe -c  -w  -IC:\Nim\lib -o c:\users\owner\documents\nim\esfj\nimcache\stdlib_asyncdispatch.o c:\users\owner\documents\nim\esfj\nimcache\stdlib_asyncdispatch.c */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <stdio.h>

#include <string.h>

#include "winsock2.h"

#include <setjmp.h>
typedef struct FutureHEX3Aobjecttype255097 FutureHEX3Aobjecttype255097;
typedef struct FuturebaseHEX3Aobjecttype255017 FuturebaseHEX3Aobjecttype255017;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct Exception Exception;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct Tcell46746 Tcell46746;
typedef struct Tcellset46758 Tcellset46758;
typedef struct Tgcheap48616 Tgcheap48616;
typedef struct Tcellseq46762 Tcellseq46762;
typedef struct Tpagedesc46754 Tpagedesc46754;
typedef struct Tmemregion28610 Tmemregion28610;
typedef struct Tsmallchunk27840 Tsmallchunk27840;
typedef struct Tllchunk28604 Tllchunk28604;
typedef struct Tbigchunk27842 Tbigchunk27842;
typedef struct Tintset27817 Tintset27817;
typedef struct Ttrunk27813 Ttrunk27813;
typedef struct Tavlnode28608 Tavlnode28608;
typedef struct Tgcstat48614 Tgcstat48614;
typedef struct PdispatcherbaseHEX3Aobjecttype255993 PdispatcherbaseHEX3Aobjecttype255993;
typedef struct TY255994 TY255994;
typedef struct TY255995 TY255995;
typedef struct TY256243 TY256243;
typedef struct TY256246 TY256246;
typedef struct Hashset258026 Hashset258026;
typedef struct Keyvaluepairseq258029 Keyvaluepairseq258029;
typedef struct Keyvaluepair258032 Keyvaluepair258032;
typedef struct FutureHEX3Aobjecttype259769 FutureHEX3Aobjecttype259769;
typedef struct FutureHEX3Aobjecttype261249 FutureHEX3Aobjecttype261249;
typedef struct FutureHEX3Aobjecttype262756 FutureHEX3Aobjecttype262756;
typedef struct TY262749 TY262749;
typedef struct Valueerror3449 Valueerror3449;
typedef struct PdispatcherHEX3Aobjecttype258020 PdispatcherHEX3Aobjecttype258020;
typedef struct Tcustomoverlapped258008 Tcustomoverlapped258008;
typedef struct Toverlapped105608 Toverlapped105608;
typedef struct Tcompletiondata258004 Tcompletiondata258004;
typedef struct Tguid105614 Tguid105614;
typedef struct TY259730 TY259730;
typedef struct Addrinfo104868 Addrinfo104868;
typedef struct TY259733 TY259733;
typedef struct TY259736 TY259736;
typedef struct Oserror3433 Oserror3433;
typedef struct Systemerror3429 Systemerror3429;
typedef struct TY261222 TY261222;
typedef struct TY262619 TY262619;
typedef struct TY262730 TY262730;
typedef struct TY264164 TY264164;
typedef struct TY264167 TY264167;
typedef struct FutureHEX3Aobjecttype264663 FutureHEX3Aobjecttype264663;
typedef struct TY265830 TY265830;
typedef struct TY265842 TY265842;
typedef struct TY267410 TY267410;
typedef struct TSafePoint TSafePoint;
typedef struct FutureHEX3Aobjecttype271248 FutureHEX3Aobjecttype271248;
typedef struct TY271241 TY271241;
typedef struct Asyncsocketdesc268202 Asyncsocketdesc268202;
typedef struct FutureHEX3Aobjecttype272455 FutureHEX3Aobjecttype272455;
typedef struct TY274030 TY274030;
typedef struct FutureHEX3Aobjecttype279252 FutureHEX3Aobjecttype279252;
typedef struct Response277008 Response277008;
typedef struct Stringtableobj176012 Stringtableobj176012;
typedef struct Tbasechunk27838 Tbasechunk27838;
typedef struct Tfreecell27830 Tfreecell27830;
typedef struct Keyvaluepairseq176010 Keyvaluepairseq176010;
typedef struct TY106548 TY106548;
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (void* ClEnv);
void* ClEnv;
} TY255018;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  FuturebaseHEX3Aobjecttype255017  {
  TNimObject Sup;
TY255018 cb;
NIM_BOOL finished;
Exception* error;
NimStringDesc* errorstacktrace;
NimStringDesc* stacktrace;
NI id;
NimStringDesc* fromproc;
};
struct  FutureHEX3Aobjecttype255097  {
  FuturebaseHEX3Aobjecttype255017 Sup;
};
typedef N_CLOSURE_PTR(void, TMP2311) (void);
struct  Tcell46746  {
NI refcount;
TNimType* typ;
};
struct  Tcellseq46762  {
NI len;
NI cap;
Tcell46746** d;
};
struct  Tcellset46758  {
NI counter;
NI max;
Tpagedesc46754* head;
Tpagedesc46754** data;
};
typedef Tsmallchunk27840* TY28622[512];
typedef Ttrunk27813* Ttrunkbuckets27815[256];
struct  Tintset27817  {
Ttrunkbuckets27815 data;
};
struct  Tmemregion28610  {
NI minlargeobj;
NI maxlargeobj;
TY28622 freesmallchunks;
Tllchunk28604* llmem;
NI currmem;
NI maxmem;
NI freemem;
NI lastsize;
Tbigchunk27842* freechunkslist;
Tintset27817 chunkstarts;
Tavlnode28608* root;
Tavlnode28608* deleted;
Tavlnode28608* last;
Tavlnode28608* freeavlnodes;
};
struct  Tgcstat48614  {
NI stackscans;
NI cyclecollections;
NI maxthreshold;
NI maxstacksize;
NI maxstackcells;
NI cycletablesize;
NI64 maxpause;
};
struct  Tgcheap48616  {
void* stackbottom;
NI cyclethreshold;
Tcellseq46762 zct;
Tcellseq46762 decstack;
Tcellset46758 cycleroots;
Tcellseq46762 tempstack;
NI recgclock;
Tmemregion28610 region;
Tgcstat48614 stat;
};
typedef N_CLOSURE_PTR(void, TMP2312) (void);
struct TY255995 {
NF Field0;
FutureHEX3Aobjecttype255097* Field1;
};
struct  PdispatcherbaseHEX3Aobjecttype255993  {
  TNimObject Sup;
TY255994* timers;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY256243 {
void* Field0;
TY256246* Field1;
};
struct TY256246 {
char dummy;
};
struct  Hashset258026  {
Keyvaluepairseq258029* data;
NI counter;
};
struct Keyvaluepair258032 {
NI Field0;
NI Field1;
};
typedef N_CLOSURE_PTR(void, TMP2346) (void);
struct  FutureHEX3Aobjecttype259769  {
  FuturebaseHEX3Aobjecttype255017 Sup;
NimStringDesc* value;
};
typedef N_CLOSURE_PTR(void, TMP2350) (void);
typedef N_CLOSURE_PTR(void, TMP2351) (void);
struct  FutureHEX3Aobjecttype261249  {
  FuturebaseHEX3Aobjecttype255017 Sup;
NI value;
};
typedef N_CLOSURE_PTR(void, TMP2354) (void);
typedef N_CLOSURE_PTR(void, TMP2355) (void);
struct TY262749 {
NimStringDesc* Field0;
NI Field1;
};
struct  FutureHEX3Aobjecttype262756  {
  FuturebaseHEX3Aobjecttype255017 Sup;
TY262749 value;
};
typedef N_CLOSURE_PTR(void, TMP2359) (void);
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  Valueerror3449  {
  Exception Sup;
};
typedef N_CLOSURE_PTR(void, TMP2361) (void);
struct  PdispatcherHEX3Aobjecttype258020  {
  PdispatcherbaseHEX3Aobjecttype255993 Sup;
NI ioport;
Hashset258026 handles;
};
typedef N_STDCALL_PTR(NI, TY105652) (NI Filehandle, NI Existingcompletionport, NI32 Completionkey, NI32 Numberofconcurrentthreads);
typedef N_STDCALL_PTR(NI32, TY105661) (NI Completionport, NI32* lpnumberofbytestransferred, NI* lpcompletionkey, Toverlapped105608** lpoverlapped, NI32 dwmilliseconds);
struct  Toverlapped105608  {
NI* internal;
NI* internalhigh;
NI32 offset;
NI32 offsethigh;
NI hevent;
};
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (NI fd, NI32 bytestransferred, NI32 errcode, void* ClEnv);
void* ClEnv;
} TY258014;
struct  Tcompletiondata258004  {
NI fd;
TY258014 cb;
};
struct  Tcustomoverlapped258008  {
  Toverlapped105608 Sup;
Tcompletiondata258004 data;
};
typedef N_CLOSURE_PTR(void, TMP2375) (NI fd, NI32 bytestransferred, NI32 errcode);
typedef N_CLOSURE_PTR(void, TMP2376) (NI fd, NI32 bytestransferred, NI32 errcode);
typedef N_STDCALL_PTR(void, Poverlappedcompletionroutine105612) (NI32 para1, NI32 para2, Toverlapped105608* para3);
typedef N_STDCALL_PTR(int, TY105733) (NI s, NI32 dwiocontrolcode, void* lpvinbuffer, NI32 cbinbuffer, void* lpvoutbuffer, NI32 cboutbuffer, NI32* lpcbbytesreturned, Toverlapped105608* lpoverlapped, Poverlappedcompletionroutine105612 lpcompletionroutine);
typedef NI8 TY105627[8];
struct  Tguid105614  {
NI32 D1;
NI16 D2;
NI16 D3;
TY105627 D4;
};
typedef N_STDCALL_PTR(NIM_BOOL, TY259279) (NI s, SOCKADDR* name, int namelen, void* lpsendbuffer, NI32 dwsenddatalength, NI32* lpdwbytessent, Toverlapped105608* lpoverlapped);
typedef N_STDCALL_PTR(NIM_BOOL, TY259325) (NI listensock, NI acceptsock, void* lpoutputbuffer, NI32 dwreceivedatalength, NI32 dwlocaladdresslength, NI32 dwremoteaddresslength, NI32* lpdwbytesreceived, Toverlapped105608* lpoverlapped);
typedef N_STDCALL_PTR(void, TY259372) (void* lpoutputbuffer, NI32 dwreceivedatalength, NI32 dwlocaladdresslength, NI32 dwremoteaddresslength, SOCKADDR** Localsockaddr, NI32* Localsockaddrlength, SOCKADDR** Remotesockaddr, NI32* Remotesockaddrlength);
struct  TY259730  {
NI HEX3Astate;
FutureHEX3Aobjecttype255097* retfuture259613;
};
typedef NIM_CHAR TY104890[8];
struct  TY259733  {
NI HEX3Astate;
TY259730* HEX3Aup259747;
};
struct  TY259736  {
NI HEX3Astate;
TY259733* HEX3Aup259744;
};
struct  Systemerror3429  {
  Exception Sup;
};
struct  Oserror3433  {
  Systemerror3429 Sup;
NI32 errorcode;
};
struct  Addrinfo104868  {
int aiflags;
int aifamily;
int aisocktype;
int aiprotocol;
NI aiaddrlen;
NCSTRING aicanonname;
SOCKADDR* aiaddr;
Addrinfo104868* ainext;
};
struct  TY261222  {
NI HEX3Astate;
FutureHEX3Aobjecttype259769* retfuture260013;
WSABUF databuf260014;
NI size259760;
NU8 flags259763;
};
typedef N_STDCALL_PTR(int, TY105754) (NI s, WSABUF* buf, NI32 bufcount, NI32* bytesreceived, NI32* flags, Toverlapped105608* lpoverlapped, Poverlappedcompletionroutine105612 completionproc);
struct  TY262619  {
NI HEX3Astate;
FutureHEX3Aobjecttype261249* retfuture261613;
WSABUF databuf261614;
NU8 flags261243;
};
struct  TY262730  {
NI HEX3Astate;
FutureHEX3Aobjecttype255097* retfuture262650;
NU8 flags262638;
};
typedef N_STDCALL_PTR(int, TY105767) (NI s, WSABUF* buf, NI32 bufcount, NI32* bytessent, NI32 flags, Toverlapped105608* lpoverlapped, Poverlappedcompletionroutine105612 completionproc);
struct  TY264164  {
NI HEX3Astate;
FutureHEX3Aobjecttype262756* retfuture262813;
NI socket262744;
NI clientsock262814;
NimStringDesc* lpoutputbuf262817;
NI32 dwreceivedatalength262819;
NI32 dwlocaladdresslength262821;
NI32 dwremoteaddresslength262823;
NU8 flags262747;
FutureHEX3Aobjecttype262756* newacceptfut264058;
};
struct  TY264167  {
NI HEX3Astate;
FutureHEX3Aobjecttype262756* newacceptfut263614;
TY264164* HEX3Aup264176;
};
typedef N_STDCALL_PTR(int, TY105087) (NI s, int level, int optname, void* optval, unsigned int optlen);
typedef N_STDCALL_PTR(NCSTRING, TY105263) (IN_ADDR i);
struct  FutureHEX3Aobjecttype264663  {
  FuturebaseHEX3Aobjecttype255017 Sup;
NI value;
};
typedef N_CLOSURE_PTR(void, TMP2419) (void);
typedef N_CLOSURE_PTR(void, TMP2420) (void);
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (FutureHEX3Aobjecttype262756* future_265824, void* ClEnv);
void* ClEnv;
} TY265820;
struct  TY265830  {
NI HEX3Astate;
TY265820 cb265827;
FutureHEX3Aobjecttype262756* future265819;
};
typedef N_CLOSURE_PTR(void, TMP2424) (FutureHEX3Aobjecttype262756* future_265824);
struct  TY265842  {
NI HEX3Astate;
FutureHEX3Aobjecttype264663* retfut264813;
};
typedef struct {
N_NIMCALL_PTR(FuturebaseHEX3Aobjecttype255017*, ClPrc) (void* ClEnv);
void* ClEnv;
} TY266613;
struct  TY267410  {
NI HEX3Astate;
NI socket266601;
FutureHEX3Aobjecttype259769* retfuture266595;
TY266613 nameitervar267231;
NimStringDesc* result266615;
NimStringDesc* c266621;
FutureHEX3Aobjecttype259769* future266597;
FutureHEX3Aobjecttype259769* future266598;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClPrc) (Exception* e, void* ClEnv);
void* ClEnv;
} TY15609;
struct  TSafePoint  {
TSafePoint* prev;
NI status;
jmp_buf context;
NIM_BOOL hasRaiseAction;
TY15609 raiseAction;
};
typedef N_CLOSURE_PTR(FuturebaseHEX3Aobjecttype255017*, TMP2438) (void);
typedef N_CLOSURE_PTR(void, TMP2440) (void);
struct TY271241 {
NimStringDesc* Field0;
Asyncsocketdesc268202* Field1;
};
struct  FutureHEX3Aobjecttype271248  {
  FuturebaseHEX3Aobjecttype255017 Sup;
TY271241 value;
};
typedef N_CLOSURE_PTR(void, TMP2480) (void);
typedef N_CLOSURE_PTR(void, TMP2481) (void);
struct  FutureHEX3Aobjecttype272455  {
  FuturebaseHEX3Aobjecttype255017 Sup;
Asyncsocketdesc268202* value;
};
typedef N_CLOSURE_PTR(void, TMP2488) (void);
typedef N_CLOSURE_PTR(void, TMP2489) (void);
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (FutureHEX3Aobjecttype271248* future_274024, void* ClEnv);
void* ClEnv;
} TY274020;
struct  TY274030  {
NI HEX3Astate;
TY274020 cb274027;
FutureHEX3Aobjecttype271248* future274019;
};
typedef N_CLOSURE_PTR(void, TMP2493) (FutureHEX3Aobjecttype271248* future_274024);
struct Response277008 {
NimStringDesc* Field0;
NimStringDesc* Field1;
Stringtableobj176012* Field2;
NimStringDesc* Field3;
};
struct  FutureHEX3Aobjecttype279252  {
  FuturebaseHEX3Aobjecttype255017 Sup;
Response277008 value;
};
typedef N_CLOSURE_PTR(void, TMP2704) (void);
typedef N_CLOSURE_PTR(void, TMP2705) (void);
typedef NI TY27820[8];
struct  Tpagedesc46754  {
Tpagedesc46754* next;
NI key;
TY27820 bits;
};
struct  Tbasechunk27838  {
NI prevsize;
NI size;
NIM_BOOL used;
};
struct  Tsmallchunk27840  {
  Tbasechunk27838 Sup;
Tsmallchunk27840* next;
Tsmallchunk27840* prev;
Tfreecell27830* freelist;
NI free;
NI acc;
NF data;
};
struct  Tllchunk28604  {
NI size;
NI acc;
Tllchunk28604* next;
};
struct  Tbigchunk27842  {
  Tbasechunk27838 Sup;
Tbigchunk27842* next;
Tbigchunk27842* prev;
NI align;
NF data;
};
struct  Ttrunk27813  {
Ttrunk27813* next;
NI key;
TY27820 bits;
};
typedef Tavlnode28608* TY28614[2];
struct  Tavlnode28608  {
TY28614 link;
NI key;
NI upperbound;
NI level;
};
typedef NIM_CHAR TY104883[14];
typedef NIM_CHAR TY268208[4001];
struct  Asyncsocketdesc268202  {
NI fd;
NIM_BOOL closed;
NIM_BOOL isbuffered;
union{
struct {TY268208 buffer;
NI currpos;
NI buflen;
} S1;
} isbufferedU;
NIM_BOOL isssl;
};
struct  Stringtableobj176012  {
  TNimObject Sup;
NI counter;
Keyvaluepairseq176010* data;
NU8 mode;
};
struct  Tfreecell27830  {
Tfreecell27830* next;
NI zerofield;
};
struct TY106548 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
struct TY255994 {
  TGenericSeq Sup;
  TY255995 data[SEQ_DECL_SIZE];
};
struct Keyvaluepairseq258029 {
  TGenericSeq Sup;
  Keyvaluepair258032 data[SEQ_DECL_SIZE];
};
struct Keyvaluepairseq176010 {
  TGenericSeq Sup;
  TY106548 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, checkfinished_255102)(FutureHEX3Aobjecttype255097* future);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, getstacktrace_16601)(void);
N_NIMCALL(void, failedassertimpl_88817)(NimStringDesc* msg);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackoverflow_20001)(void);
static N_INLINE(void, popFrame)(void);
N_NIMCALL(void, complete_255090)(FutureHEX3Aobjecttype255097* future);
N_NIMCALL(void, callbackHEX3D_255832)(FuturebaseHEX3Aobjecttype255017* future, TY255018 cb);
static N_INLINE(void, asgnRef)(void** dest, void* src);
static N_INLINE(void, incref_52622)(Tcell46746* c);
static N_INLINE(NIM_BOOL, canbecycleroot_50267)(Tcell46746* c);
static N_INLINE(void, rtladdcycleroot_51023)(Tcell46746* c);
N_NOINLINE(void, incl_47465)(Tcellset46758* s, Tcell46746* cell);
static N_INLINE(Tcell46746*, usrtocell_50246)(void* usr);
static N_INLINE(void, decref_52204)(Tcell46746* c);
static N_INLINE(void, rtladdzct_51804)(Tcell46746* c);
N_NOINLINE(void, addzct_50217)(Tcellseq46762* s, Tcell46746* c);
N_NIMCALL(NIM_BOOL, failed_255914)(FuturebaseHEX3Aobjecttype255017* future);
N_NIMCALL(void, processtimers_256005)(PdispatcherbaseHEX3Aobjecttype255993* p);
N_NIMCALL(void, TMP2316)(void* p, NI op);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP2317)(void* p, NI op);
N_NIMCALL(void, TMP2318)(void* p, NI op);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_83404, TNimType* mt);
static N_INLINE(void, nimGCunref)(void* p);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NF, ntepochTime)(void);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* seq, NI elemsize);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(void, initset_258067)(NI initialsize, Hashset258026* Result);
N_NIMCALL(void, init_258075)(Hashset258026* s, NI initialsize);
N_NIMCALL(void, incl_258257)(Hashset258026* s, NI key);
N_NIMCALL(NIM_BOOL, isvalid_258267)(Hashset258026 s);
static N_INLINE(NI, rawget_258403)(Hashset258026 s, NI key, NI* hc);
static N_INLINE(NI, hash_116804)(NI x);
static N_INLINE(NIM_BOOL, isfilled_256444)(NI hcode);
static N_INLINE(NI, nexttry_256620)(NI h, NI maxhash);
static N_INLINE(NI, subInt)(NI a, NI b);
N_NIMCALL(void, enlarge_258438)(Hashset258026* s);
static N_INLINE(NI, rawgetknownhc_258490)(Hashset258026 s, NI key, NI hc);
N_NIMCALL(void, rawinsert_258515)(Hashset258026* s, Keyvaluepairseq258029** data, NI key, NI hc, NI h);
N_NIMCALL(NIM_BOOL, contains_258612)(Hashset258026 s, NI key);
N_NIMCALL(NI, len_258842)(Hashset258026 s);
N_NIMCALL(FutureHEX3Aobjecttype255097*, newfuture_259407)(NimStringDesc* fromproc);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
N_NIMCALL(void, fail_259659)(FutureHEX3Aobjecttype255097* future, Exception* error);
N_NIMCALL(NimStringDesc*, getstacktrace_16603)(Exception* e);
N_NIMCALL(FutureHEX3Aobjecttype259769*, newfuture_259802)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP2347)(void* p, NI op);
N_NIMCALL(void, complete_260031)(FutureHEX3Aobjecttype259769* future, NimStringDesc* val);
N_NIMCALL(void, checkfinished_260040)(FutureHEX3Aobjecttype259769* future);
N_NIMCALL(NimStringDesc*, reprStr)(NimStringDesc* s);
N_NIMCALL(void, fail_261034)(FutureHEX3Aobjecttype259769* future, Exception* error);
N_NIMCALL(FutureHEX3Aobjecttype261249*, newfuture_261402)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP2352)(void* p, NI op);
N_NIMCALL(void, complete_261631)(FutureHEX3Aobjecttype261249* future, NI val);
N_NIMCALL(void, checkfinished_261640)(FutureHEX3Aobjecttype261249* future);
N_NIMCALL(void, fail_262444)(FutureHEX3Aobjecttype261249* future, Exception* error);
N_NIMCALL(FutureHEX3Aobjecttype262756*, newfuture_262764)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP2357)(void* p, NI op);
N_NIMCALL(void, complete_262866)(FutureHEX3Aobjecttype262756* future, TY262749 val);
N_NIMCALL(void, checkfinished_262875)(FutureHEX3Aobjecttype262756* future);
N_NIMCALL(Exception*, readerror_263618)(FutureHEX3Aobjecttype262756* future);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_NIMCALL(void, fail_263653)(FutureHEX3Aobjecttype262756* future, Exception* error);
N_NIMCALL(void, read_263681)(FutureHEX3Aobjecttype262756* future, TY262749* Result);
N_NIMCALL(void, echooriginalstacktrace_263701)(FutureHEX3Aobjecttype262756* future);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, excl_264225)(Hashset258026* s, NI key);
N_NIMCALL(PdispatcherHEX3Aobjecttype258020*, newdispatcher_258055)(void);
N_NIMCALL(void, TMP2371)(void* p, NI op);
N_NIMCALL(PdispatcherHEX3Aobjecttype258020*, getglobaldispatcher_258238)(void);
N_NIMCALL(void, register_258252)(NI fd);
N_NIMCALL(void, raiseoserror_140430)(NI32 errorcode);
N_NIMCALL(NI32, oslasterror_140454)(void);
N_NIMCALL(void, verifypresence_258607)(NI fd);
N_NIMCALL(void, poll_258836)(NI timeout);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
N_NIMCALL(NIM_BOOL, initpointer_259222)(NI s, void** fun, Tguid105614* guid);
N_NIMCALL(void, initall_259244)(void);
N_NIMCALL(NI, newrawsocket_235004)(NU8 domain, NU8 typ, NU8 protocol);
N_NIMCALL(NIM_BOOL, connectex_259256)(NI s, SOCKADDR* name, int namelen, void* lpsendbuffer, NI32 dwsenddatalength, NI32* lpdwbytessent, Toverlapped105608* lpoverlapped);
N_NIMCALL(NIM_BOOL, acceptex_259302)(NI listensock, NI acceptsock, void* lpoutputbuffer, NI32 dwreceivedatalength, NI32 dwlocaladdresslength, NI32 dwremoteaddresslength, NI32* lpdwbytesreceived, Toverlapped105608* lpoverlapped);
N_NIMCALL(void, getacceptexsockaddrs_259346)(void* lpoutputbuffer, NI32 dwreceivedatalength, NI32 dwlocaladdresslength, NI32 dwremoteaddresslength, SOCKADDR** Localsockaddr, NI32* Localsockaddrlength, SOCKADDR** Remotesockaddr, NI32* Remotesockaddrlength);
N_NIMCALL(FutureHEX3Aobjecttype255097*, connect_259397)(NI socket, NimStringDesc* address, NU16 port, NU8 af);
N_NIMCALL(void, TMP2381)(void* p, NI op);
N_NIMCALL(int, toint_234829)(NU8 domain);
N_NIMCALL(int, bindaddr_235207)(NI socket, SOCKADDR* name, unsigned int namelen);
N_NIMCALL(Addrinfo104868*, getaddrinfo_235408)(NimStringDesc* address, NU16 port, NU8 af, NU8 typ, NU8 prot);
N_NIMCALL(void, TMP2384)(void* p, NI op);
N_NIMCALL(void, TMP2386)(void* p, NI op);
N_NIMCALL(void, TMP2390)(void* p, NI op);
static N_INLINE(void, nimGCref)(void* p);
N_CLOSURE(void, HEX3Aanonymous_259641)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv);
N_NIMCALL(NimStringDesc*, oserrormsg_140020)(NI32 errorcode);
N_NIMCALL(void, dealloc_235608)(Addrinfo104868* ai);
N_NIMCALL(FutureHEX3Aobjecttype259769*, recv_259757)(NI socket, NI size, NU8 flags);
N_NIMCALL(void, TMP2396)(void* p, NI op);
N_NOCONV(void*, alloc0_6017)(NI size);
N_NIMCALL(int, toosflags_239631)(NU8 socketflags);
N_CLOSURE(void, HEX3Aanonymous_260025)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_NIMCALL(NIM_BOOL, isdisconnectionerror_239481)(NU8 flags, NI32 lasterror);
N_NOCONV(void, dealloc_6048)(void* p);
N_NIMCALL(FutureHEX3Aobjecttype261249*, recvinto_261236)(NI socket, NCSTRING buf, NI size, NU8 flags);
N_NIMCALL(void, TMP2404)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_261625)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv);
N_NIMCALL(FutureHEX3Aobjecttype255097*, send_262632)(NI socket, NimStringDesc* data, NU8 flags);
N_NIMCALL(void, TMP2407)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_262662)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv);
N_NIMCALL(FutureHEX3Aobjecttype262756*, acceptaddr_262742)(NI socket, NU8 flags);
N_NIMCALL(void, TMP2410)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_262843)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv);
N_NIMCALL(void, TMP2415)(void* p, NI op);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING str);
N_CLOSURE(void, HEX3Aanonymous_263615)(void* ClEnv);
N_CLOSURE(void, HEX3Aanonymous_264059)(void* ClEnv);
N_NIMCALL(NI, newasyncrawsocket_264199)(int domain, int typ, int protocol);
N_NIMCALL(NI, newrawsocket_235016)(int domain, int typ, int protocol);
N_NIMCALL(void, setblocking_237453)(NI s, NIM_BOOL blocking);
N_NIMCALL(NI, newasyncrawsocket_264210)(NU8 domain, NU8 typ, NU8 protocol);
N_NIMCALL(void, closesocket_264221)(NI socket);
N_NIMCALL(void, close_235028)(NI socket);
N_NIMCALL(void, unregister_264451)(NI fd);
N_NIMCALL(FutureHEX3Aobjecttype255097*, sleepasync_264618)(NI ms);
static N_INLINE(NF, HEX2F_87999)(NI x, NI y);
N_NIMCALL(FutureHEX3Aobjecttype264663*, newfuture_264668)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP2417)(void* p, NI op);
N_NIMCALL(void, fail_265002)(FutureHEX3Aobjecttype264663* future, Exception* error);
N_NIMCALL(void, checkfinished_265011)(FutureHEX3Aobjecttype264663* future);
N_NIMCALL(void, complete_265625)(FutureHEX3Aobjecttype264663* future, NI val);
N_NIMCALL(void, callbackHEX3D_265814)(FutureHEX3Aobjecttype262756* future, TY265820 cb);
N_NIMCALL(void, TMP2423)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_265828)(void* ClEnv);
N_NIMCALL(FutureHEX3Aobjecttype264663*, accept_264652)(NI socket, NU8 flags);
N_NIMCALL(void, TMP2426)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_264815)(FutureHEX3Aobjecttype262756* future, void* ClEnv);
N_NIMCALL(NimStringDesc*, read_266623)(FutureHEX3Aobjecttype259769* future);
N_NIMCALL(void, echooriginalstacktrace_266643)(FutureHEX3Aobjecttype259769* future);
static N_INLINE(NIM_BOOL, finished_267237)(TY266613 x);
N_NIMCALL(FutureHEX3Aobjecttype259769*, recvline_266599)(NI socket);
N_NIMCALL(void, TMP2431)(void* p, NI op);
N_CLOSURE(FuturebaseHEX3Aobjecttype255017*, recvlineiter_266596)(void* ClEnv);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_CLOSURE(void, cb_267234)(void* ClEnv);
static N_INLINE(void, pushSafePoint)(TSafePoint* s);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(void, setFrame)(TFrame* s);
N_NIMCALL(void, reraiseException)(void);
static N_INLINE(Exception*, getCurrentException)(void);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, runforever_267439)(void);
N_NIMCALL(void, echooriginalstacktrace_268643)(FutureHEX3Aobjecttype255097* future);
N_NIMCALL(void, echooriginalstacktrace_269622)(FutureHEX3Aobjecttype261249* future);
N_NIMCALL(void, TMP2478)(void* p, NI op);
N_NIMCALL(void, checkfinished_271619)(FutureHEX3Aobjecttype271248* future);
N_NIMCALL(void, TMP2486)(void* p, NI op);
N_NIMCALL(void, checkfinished_272846)(FutureHEX3Aobjecttype272455* future);
N_NIMCALL(void, echooriginalstacktrace_273437)(FutureHEX3Aobjecttype271248* future);
N_NIMCALL(void, TMP2492)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_274028)(void* ClEnv);
N_NIMCALL(void, TMP2702)(void* p, NI op);
N_NIMCALL(void, checkfinished_279526)(FutureHEX3Aobjecttype279252* future);
N_NIMCALL(void, echooriginalstacktrace_280909)(FutureHEX3Aobjecttype279252* future);
STRING_LITERAL(TMP2303, "<-----> ", 8);
STRING_LITERAL(TMP2304, " ", 1);
STRING_LITERAL(TMP2305, "-----", 5);
STRING_LITERAL(TMP2306, "<----->", 7);
STRING_LITERAL(TMP2307, "Future already finished, cannot finish twice.", 45);
STRING_LITERAL(TMP2308, "false ", 6);
STRING_LITERAL(TMP2309, "future.error == nil ", 20);
static NIM_CONST TY255018 TMP2310 = {NIM_NIL,NIM_NIL};
STRING_LITERAL(TMP2320, "len(a) == L seq modified while iterating over it", 48);
STRING_LITERAL(TMP2349, "Contents: ", 10);
STRING_LITERAL(TMP2360, "No error in future.", 19);
STRING_LITERAL(TMP2362, "Original stack trace in ", 24);
STRING_LITERAL(TMP2363, ":", 1);
STRING_LITERAL(TMP2364, "Empty or nil stack trace.", 25);
STRING_LITERAL(TMP2365, "Continuing...", 13);
STRING_LITERAL(TMP2366, "Future still in progress.", 25);
STRING_LITERAL(TMP2372, "Operation performed on a socket which has not been registered w"
"ith the dispatcher yet.", 86);
STRING_LITERAL(TMP2373, "No handles or timers registered in dispatcher.", 46);
STRING_LITERAL(TMP2374, "customOverlapped.data.fd == TAsyncFD(lpCompletionKey) ", 54);
STRING_LITERAL(TMP2377, "Need to initialise ConnectEx().", 31);
STRING_LITERAL(TMP2378, "Need to initialise AcceptEx().", 30);
STRING_LITERAL(TMP2379, "Need to initialise getAcceptExSockAddrs().", 42);
STRING_LITERAL(TMP2382, "connect", 7);
STRING_LITERAL(TMP2397, "not contains(flags, Peek) Peek not supported on Windows.", 56);
STRING_LITERAL(TMP2398, "recv", 4);
STRING_LITERAL(TMP2400, "", 0);
STRING_LITERAL(TMP2401, "bytesCount <= size ", 19);
STRING_LITERAL(TMP2402, "realSize <= size ", 17);
STRING_LITERAL(TMP2405, "recvInto", 8);
STRING_LITERAL(TMP2408, "send", 4);
STRING_LITERAL(TMP2411, "acceptAddr", 10);
STRING_LITERAL(TMP2416, "sleepAsync", 10);
STRING_LITERAL(TMP2427, "accept", 6);
STRING_LITERAL(TMP2428, "future.finished ", 16);
STRING_LITERAL(TMP2432, "recvLine", 8);
STRING_LITERAL(TMP2433, "\015", 1);
STRING_LITERAL(TMP2434, "\012", 1);
STRING_LITERAL(TMP2435, "c == \"\\x0A\" ", 12);
STRING_LITERAL(TMP2436, "\015\012", 2);
STRING_LITERAL(TMP2439, "retFuture.finished Async procedure\'s (recvLine) return Future w"
"as not finished.", 79);
NI currentid_255044;
extern TFrame* frameptr_17042;
extern Tgcheap48616 gch_48644;
TNimType NTI255995; /* tuple[finishAt: float, fut: Future[system.void]] */
extern TNimType NTI128; /* float */
extern TNimType NTI3411; /* RootObj */
TNimType NTI255017; /* FutureBase:ObjectType */
TNimType NTI255018; /* (pointer, ref tuple[]) */
extern TNimType NTI153; /* pointer */
TNimType NTI256246; /* tuple[] */
TNimType NTI256245; /* ref tuple[] */
extern TNimType NTI138; /* bool */
extern TNimType NTI9022; /* ref Exception */
extern TNimType NTI149; /* string */
extern TNimType NTI108; /* int */
TNimType NTI255097; /* Future:ObjectType */
TNimType NTI255096; /* Future */
TNimType NTI255994; /* seq[tuple[finishAt: float, fut: Future[system.void]]] */
TNimType NTI259769; /* Future:ObjectType */
TNimType NTI259768; /* Future */
TNimType NTI261249; /* Future:ObjectType */
TNimType NTI261248; /* Future */
TNimType NTI262756; /* Future:ObjectType */
TNimType NTI262749; /* tuple[address: string, client: TAsyncFD] */
TNimType NTI262755; /* Future */
extern TNimType NTI22801; /* ref ValueError */
extern TNimType NTI3449; /* ValueError */
TNimType NTI255993; /* PDispatcherBase:ObjectType */
TNimType NTI258020; /* PDispatcher:ObjectType */
extern TNimType NTI103219; /* THandle */
extern TNimType NTI258026; /* HashSet */
TNimType NTI258006; /* PDispatcher */
extern TY105652 Dl_105651;
PdispatcherHEX3Aobjecttype258020* gdisp_258237;
extern TY105661 Dl_105660;
void* connectexptr_259219;
void* acceptexptr_259220;
void* getacceptexsockaddrsptr_259221;
extern TY105733 Dl_105732;
extern Tguid105614 Wsaidconnectex_105714;
extern Tguid105614 Wsaidacceptex_105718;
extern Tguid105614 Wsaidgetacceptexsockaddrs_105722;
TNimType NTI259730; /* object */
TNimType NTI259732; /* range -1..0(int) */
TNimType NTI259756; /* ref object */
TNimType NTI259733; /* object */
TNimType NTI259754; /* ref object */
TNimType NTI259736; /* object */
TNimType NTI259752; /* ref object */
extern TNimType NTI105608; /* TOVERLAPPED */
TNimType NTI258008; /* TCustomOverlapped */
TNimType NTI258004; /* TCompletionData */
TNimType NTI258014; /* (pointer, ref tuple[]) */
TNimType NTI258010; /* PCustomOverlapped */
extern TNimType NTI130222; /* ref OSError */
extern TNimType NTI3433; /* OSError */
TNimType NTI261222; /* object */
extern TNimType NTI105747; /* TWSABuf */
extern TNimType NTI239417; /* SocketFlag */
TNimType NTI259761; /* set[SocketFlag] */
TNimType NTI261235; /* ref object */
extern TY105754 Dl_105753;
TNimType NTI262619; /* object */
TNimType NTI262631; /* ref object */
TNimType NTI262730; /* object */
TNimType NTI262741; /* ref object */
extern TY105767 Dl_105766;
TNimType NTI264164; /* object */
extern TNimType NTI103229; /* DWORD */
TNimType NTI264198; /* ref object */
extern NI osinvalidsocket_234650;
TNimType NTI264167; /* object */
TNimType NTI264196; /* ref object */
extern TY105087 Dl_105086;
extern TY105263 Dl_105262;
TNimType NTI264663; /* Future:ObjectType */
TNimType NTI264662; /* Future */
TNimType NTI265830; /* object */
TNimType NTI265820; /* (pointer, ref tuple[]) */
TNimType NTI265841; /* ref object */
TNimType NTI265842; /* object */
TNimType NTI265852; /* ref object */
TNimType NTI267410; /* object */
TNimType NTI267412; /* range -1..2(int) */
TNimType NTI266613; /* (pointer, ref tuple[]) */
TNimType NTI267417; /* ref object */
extern TSafePoint* exchandler_17043;
extern Exception* currexception_17045;
TNimType NTI271248; /* Future:ObjectType */
extern TNimType NTI271241; /* tuple[address: string, client: AsyncSocket] */
TNimType NTI271247; /* Future */
TNimType NTI272455; /* Future:ObjectType */
extern TNimType NTI268204; /* AsyncSocket */
TNimType NTI272454; /* Future */
TNimType NTI274030; /* object */
TNimType NTI274020; /* (pointer, ref tuple[]) */
TNimType NTI274041; /* ref object */
TNimType NTI279252; /* Future:ObjectType */
extern TNimType NTI277008; /* Response */
TNimType NTI279251; /* Future */

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI LOC1;
	LOC1 = 0;
	{
		if (!(frameptr_17042 == NIM_NIL)) goto LA4;
		LOC1 = ((NI) 0);
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = ((NI) ((NI16)((*frameptr_17042).calldepth + ((NI16) 1))));
	}
	LA2: ;
	(*s).calldepth = ((NI16) (LOC1));
	(*s).prev = frameptr_17042;
	frameptr_17042 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9;
		stackoverflow_20001();
	}
	LA9: ;
}

static N_INLINE(void, popFrame)(void) {
	frameptr_17042 = (*frameptr_17042).prev;
}

N_NIMCALL(void, checkfinished_255102)(FutureHEX3Aobjecttype255097* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_255090)(FutureHEX3Aobjecttype255097* future) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(191, "asyncdispatch.nim");
	checkfinished_255102(future);
	nimln(192, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(193, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(194, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA7;
		nimln(195, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2311)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

static N_INLINE(NIM_BOOL, canbecycleroot_50267)(Tcell46746* c) {
	NIM_BOOL result;
	nimfr("canBeCycleRoot", "gc.nim")
	result = 0;
	nimln(121, "gc.nim");
	result = !((((*(*c).typ).flags &(1<<((((NU8) 1))&7)))!=0));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdcycleroot_51023)(Tcell46746* c) {
	nimfr("rtlAddCycleRoot", "gc.nim")
	nimln(189, "gc.nim");
	{
		if (!!((((NI) ((NI)((*c).refcount & ((NI) 3)))) == ((NI) 3)))) goto LA3;
		nimln(139, "gc.nim");
		(*c).refcount = (NI)((NI)((*c).refcount & ((NI) -4)) | ((NI) 3));
		nimln(191, "gc.nim");
		incl_47465((&gch_48644.cycleroots), c);
	}
	LA3: ;
	popFrame();
}

static N_INLINE(void, incref_52622)(Tcell46746* c) {
	nimfr("incRef", "gc.nim")
	nimln(216, "gc.nim");
	(*c).refcount = (NI)((NU64)((*c).refcount) + (NU64)(((NI) 8)));
	nimln(219, "gc.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = canbecycleroot_50267(c);
		if (!LOC3) goto LA4;
		nimln(220, "gc.nim");
		rtladdcycleroot_51023(c);
	}
	LA4: ;
	popFrame();
}

static N_INLINE(Tcell46746*, usrtocell_50246)(void* usr) {
	Tcell46746* result;
	nimfr("usrToCell", "gc.nim")
	result = 0;
	nimln(118, "gc.nim");
	result = ((Tcell46746*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(Tcell46746))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdzct_51804)(Tcell46746* c) {
	nimfr("rtlAddZCT", "gc.nim")
	nimln(199, "gc.nim");
	addzct_50217((&gch_48644.zct), c);
	popFrame();
}

static N_INLINE(void, decref_52204)(Tcell46746* c) {
	nimfr("decRef", "gc.nim")
	nimln(206, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).refcount -= ((NI) 8);
		nimln(168, "gc.nim");
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3;
		nimln(207, "gc.nim");
		rtladdzct_51804(c);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC6;
		nimln(208, "gc.nim");
		LOC6 = 0;
		LOC6 = canbecycleroot_50267(c);
		if (!LOC6) goto LA7;
		nimln(211, "gc.nim");
		rtladdcycleroot_51023(c);
	}
	goto LA1;
	LA7: ;
	LA1: ;
	popFrame();
}

static N_INLINE(void, asgnRef)(void** dest, void* src) {
	nimfr("asgnRef", "gc.nim")
	nimln(244, "gc.nim");
	{
		Tcell46746* LOC5;
		if (!!((src == NIM_NIL))) goto LA3;
		LOC5 = 0;
		LOC5 = usrtocell_50246(src);
		incref_52622(LOC5);
	}
	LA3: ;
	nimln(245, "gc.nim");
	{
		Tcell46746* LOC10;
		if (!!(((*dest) == NIM_NIL))) goto LA8;
		LOC10 = 0;
		LOC10 = usrtocell_50246((*dest));
		decref_52204(LOC10);
	}
	LA8: ;
	nimln(246, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_255832)(FuturebaseHEX3Aobjecttype255017* future, TY255018 cb) {
	nimfr("callback=", "asyncdispatch.nim")
	nimln(222, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).cb.ClEnv), cb.ClEnv);
	(*future).cb.ClPrc = cb.ClPrc;
	nimln(223, "asyncdispatch.nim");
	{
		if (!(*future).finished) goto LA3;
		nimln(224, "asyncdispatch.nim");
		(*future).cb.ClEnv? (*future).cb.ClPrc((*future).cb.ClEnv):((TMP2312)((*future).cb.ClPrc))();
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(NIM_BOOL, failed_255914)(FuturebaseHEX3Aobjecttype255017* future) {
	NIM_BOOL result;
	nimfr("failed", "asyncdispatch.nim")
{	result = 0;
	nimln(275, "asyncdispatch.nim");
	result = !(((*future).error == NIM_NIL));
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2316)(void* p, NI op) {
	TY256246* a;
	a = (TY256246*)p;
}
N_NIMCALL(void, TMP2317)(void* p, NI op) {
	FutureHEX3Aobjecttype255097* a;
	a = (FutureHEX3Aobjecttype255097*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
}
N_NIMCALL(void, TMP2318)(void* p, NI op) {
	TY255994* a;
	NI LOC1;
	a = (TY255994*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

static N_INLINE(void, nimGCunref)(void* p) {
	Tcell46746* LOC1;
	nimfr("nimGCunref", "gc.nim")
	nimln(223, "gc.nim");
	LOC1 = 0;
	LOC1 = usrtocell_50246(p);
	decref_52204(LOC1);
	popFrame();
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
{	result = 0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (((NI) 0) <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (((NI) 0) <= (NI)(result ^ b));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, processtimers_256005)(PdispatcherbaseHEX3Aobjecttype255993* p) {
	TY255994* oldtimers;
	nimfr("processTimers", "asyncdispatch.nim")
	nimln(315, "asyncdispatch.nim");
	genericSeqAssign((&oldtimers), (*p).timers, (&NTI255994));
	nimln(316, "asyncdispatch.nim");
	if ((*p).timers) nimGCunref((*p).timers);
	(*p).timers = (TY255994*) newSeqRC1((&NTI255994), 0);
	{
		TY255995 t_256211;
		NI i_256225;
		NI L_256227;
		memset((void*)(&t_256211), 0, sizeof(t_256211));
		nimln(3084, "system.nim");
		i_256225 = ((NI) 0);
		nimln(3085, "system.nim");
		L_256227 = (oldtimers ? oldtimers->Sup.len : 0);
		{
			nimln(3086, "system.nim");
			while (1) {
				NI TMP2319;
				if (!(i_256225 < L_256227)) goto LA3;
				nimln(3087, "system.nim");
				if ((NU)(i_256225) >= (NU)(oldtimers->Sup.len)) raiseIndexError();
				t_256211.Field0 = oldtimers->data[i_256225].Field0;
				t_256211.Field1 = oldtimers->data[i_256225].Field1;
				nimln(318, "asyncdispatch.nim");
				{
					NF LOC6;
					LOC6 = 0;
					LOC6 = ntepochTime();
					if (!(t_256211.Field0 <= LOC6)) goto LA7;
					nimln(319, "asyncdispatch.nim");
					complete_255090(t_256211.Field1);
				}
				goto LA4;
				LA7: ;
				{
					nimln(321, "asyncdispatch.nim");
					(*p).timers = (TY255994*) incrSeq(&((*p).timers)->Sup, sizeof(TY255995));
					(*p).timers->data[(*p).timers->Sup.len-1].Field0 = t_256211.Field0;
					asgnRef((void**) (&(*p).timers->data[(*p).timers->Sup.len-1].Field1), t_256211.Field1);
				}
				LA4: ;
				nimln(3088, "system.nim");
				TMP2319 = addInt(i_256225, ((NI) 1));
				i_256225 = (NI)(TMP2319);
				nimln(3089, "system.nim");
				{
					if (!!(((oldtimers ? oldtimers->Sup.len : 0) == L_256227))) goto LA12;
					failedassertimpl_88817(((NimStringDesc*) &TMP2320));
				}
				LA12: ;
			} LA3: ;
		}
	}
	popFrame();
}

static N_INLINE(NI, hash_116804)(NI x) {
	NI result;
	nimfr("hash", "hashes.nim")
	result = 0;
	nimln(107, "hashes.nim");
	result = x;
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, isfilled_256444)(NI hcode) {
	NIM_BOOL result;
	nimfr("isFilled", "sets.nim")
	result = 0;
	nimln(50, "sets.nim");
	result = !((hcode == ((NI) 0)));
	popFrame();
	return result;
}

static N_INLINE(NI, nexttry_256620)(NI h, NI maxhash) {
	NI result;
	NI TMP2342;
	nimfr("nextTry", "sets.nim")
	result = 0;
	nimln(127, "sets.nim");
	TMP2342 = addInt(h, ((NI) 1));
	result = (NI)((NI)(TMP2342) & maxhash);
	popFrame();
	return result;
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
{	result = 0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (((NI) 0) <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (((NI) 0) <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, rawget_258403)(Hashset258026 s, NI key, NI* hc) {
	NI result;
	NI h;
	NI TMP2343;
	nimfr("rawGet", "sets.nim")
{	result = 0;
	nimln(142, "sets.nim");
	(*hc) = hash_116804(key);
	nimln(143, "sets.nim");
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		nimln(144, "sets.nim");
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	nimln(130, "sets.nim");
	h = (NI)((*hc) & (s.data ? (s.data->Sup.len-1) : -1));
	{
		nimln(131, "sets.nim");
		while (1) {
			NIM_BOOL LOC7;
			if ((NU)(h) >= (NU)(s.data->Sup.len)) raiseIndexError();
			LOC7 = 0;
			LOC7 = isfilled_256444(s.data->data[h].Field0);
			if (!LOC7) goto LA6;
			nimln(136, "sets.nim");
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				if ((NU)(h) >= (NU)(s.data->Sup.len)) raiseIndexError();
				LOC10 = (s.data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				if ((NU)(h) >= (NU)(s.data->Sup.len)) raiseIndexError();
				LOC10 = (s.data->data[h].Field1 == key);
				LA11: ;
				if (!LOC10) goto LA12;
				nimln(137, "sets.nim");
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			nimln(138, "sets.nim");
			h = nexttry_256620(h, (s.data ? (s.data->Sup.len-1) : -1));
		} LA6: ;
	}
	nimln(139, "sets.nim");
	TMP2343 = subInt(((NI) -1), h);
	result = (NI)(TMP2343);
	}BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NI, rawgetknownhc_258490)(Hashset258026 s, NI key, NI hc) {
	NI result;
	NI h;
	NI TMP2344;
	nimfr("rawGetKnownHC", "sets.nim")
{	result = 0;
	nimln(130, "sets.nim");
	h = (NI)(hc & (s.data ? (s.data->Sup.len-1) : -1));
	{
		nimln(131, "sets.nim");
		while (1) {
			NIM_BOOL LOC3;
			if ((NU)(h) >= (NU)(s.data->Sup.len)) raiseIndexError();
			LOC3 = 0;
			LOC3 = isfilled_256444(s.data->data[h].Field0);
			if (!LOC3) goto LA2;
			nimln(136, "sets.nim");
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				if ((NU)(h) >= (NU)(s.data->Sup.len)) raiseIndexError();
				LOC6 = (s.data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				if ((NU)(h) >= (NU)(s.data->Sup.len)) raiseIndexError();
				LOC6 = (s.data->data[h].Field1 == key);
				LA7: ;
				if (!LOC6) goto LA8;
				nimln(137, "sets.nim");
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			nimln(138, "sets.nim");
			h = nexttry_256620(h, (s.data ? (s.data->Sup.len-1) : -1));
		} LA2: ;
	}
	nimln(139, "sets.nim");
	TMP2344 = subInt(((NI) -1), h);
	result = (NI)(TMP2344);
	}BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	nimfr("asgnRefNoCycle", "gc.nim")
	nimln(251, "gc.nim");
	{
		Tcell46746* c;
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(252, "gc.nim");
		c = usrtocell_50246(src);
		nimln(169, "gc.nim");
		(*c).refcount += ((NI) 8);
	}
	LA3: ;
	nimln(254, "gc.nim");
	{
		Tcell46746* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		nimln(255, "gc.nim");
		c = usrtocell_50246((*dest));
		nimln(256, "gc.nim");
		{
			nimln(167, "gc.nim");
			(*c).refcount -= ((NI) 8);
			nimln(168, "gc.nim");
			if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA11;
			nimln(257, "gc.nim");
			rtladdzct_51804(c);
		}
		LA11: ;
	}
	LA7: ;
	nimln(258, "gc.nim");
	(*dest) = src;
	popFrame();
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	Tcell46746* c;
	nimfr("nimGCunrefNoCycle", "gc.nim")
	nimln(233, "gc.nim");
	c = usrtocell_50246(p);
	nimln(235, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).refcount -= ((NI) 8);
		nimln(168, "gc.nim");
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3;
		nimln(236, "gc.nim");
		rtladdzct_51804(c);
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype255097*, newfuture_259407)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype255097* result;
	NimStringDesc* LOC1;
	NI TMP2345;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype255097*) newObj((&NTI255096), sizeof(FutureHEX3Aobjecttype255097));
	(*result).Sup.Sup.m_type = (&NTI255097);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2345 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2345);
	popFrame();
	return result;
}

N_NIMCALL(void, fail_259659)(FutureHEX3Aobjecttype255097* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_255102(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2346)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP2347)(void* p, NI op) {
	FutureHEX3Aobjecttype259769* a;
	a = (FutureHEX3Aobjecttype259769*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value, op);
}

N_NIMCALL(FutureHEX3Aobjecttype259769*, newfuture_259802)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype259769* result;
	NimStringDesc* LOC1;
	NI TMP2348;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype259769*) newObj((&NTI259768), sizeof(FutureHEX3Aobjecttype259769));
	(*result).Sup.Sup.m_type = (&NTI259769);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2348 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2348);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_260040)(FutureHEX3Aobjecttype259769* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(172, "asyncdispatch.nim");
		printf("%s%s\015\012", ((NimStringDesc*) &TMP2349)? (((NimStringDesc*) &TMP2349))->data:"nil", reprStr((*future).value)? (reprStr((*future).value))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_260031)(FutureHEX3Aobjecttype259769* future, NimStringDesc* val) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_260040(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value; (*future).value = copyStringRC1(val);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA8;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2350)((*future).Sup.cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}

N_NIMCALL(void, fail_261034)(FutureHEX3Aobjecttype259769* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_260040(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2351)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP2352)(void* p, NI op) {
	FutureHEX3Aobjecttype261249* a;
	a = (FutureHEX3Aobjecttype261249*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
}

N_NIMCALL(FutureHEX3Aobjecttype261249*, newfuture_261402)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype261249* result;
	NimStringDesc* LOC1;
	NI TMP2353;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype261249*) newObj((&NTI261248), sizeof(FutureHEX3Aobjecttype261249));
	(*result).Sup.Sup.m_type = (&NTI261249);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2353 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2353);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_261640)(FutureHEX3Aobjecttype261249* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_261631)(FutureHEX3Aobjecttype261249* future, NI val) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_261640(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	(*future).value = val;
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2354)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, fail_262444)(FutureHEX3Aobjecttype261249* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_261640(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2355)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP2357)(void* p, NI op) {
	FutureHEX3Aobjecttype262756* a;
	a = (FutureHEX3Aobjecttype262756*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value.Field0, op);
}

N_NIMCALL(FutureHEX3Aobjecttype262756*, newfuture_262764)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype262756* result;
	NimStringDesc* LOC1;
	NI TMP2358;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype262756*) newObj((&NTI262755), sizeof(FutureHEX3Aobjecttype262756));
	(*result).Sup.Sup.m_type = (&NTI262756);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2358 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2358);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_262875)(FutureHEX3Aobjecttype262756* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_262866)(FutureHEX3Aobjecttype262756* future, TY262749 val) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_262875(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value.Field0; (*future).value.Field0 = copyStringRC1(val.Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	(*future).value.Field1 = val.Field1;
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA8;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2359)((*future).Sup.cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}

N_NIMCALL(Exception*, readerror_263618)(FutureHEX3Aobjecttype262756* future) {
	Exception* result;
	nimfr("readError", "asyncdispatch.nim")
{	result = 0;
	nimln(263, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		result = (*future).Sup.error;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_263638;
		NimStringDesc* LOC6;
		e_263638 = 0;
		nimln(2265, "system.nim");
		e_263638 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_263638).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_263638).Sup.message; (*e_263638).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2360));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(265, "asyncdispatch.nim");
		raiseException((Exception*)e_263638, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, fail_263653)(FutureHEX3Aobjecttype262756* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_262875(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2361)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_263701)(FutureHEX3Aobjecttype262756* future) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\015\012", ((NimStringDesc*) &TMP2362)? (((NimStringDesc*) &TMP2362))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil", ((NimStringDesc*) &TMP2363)? (((NimStringDesc*) &TMP2363))->data:"nil");
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.errorstacktrace? ((*future).Sup.errorstacktrace)->data:"nil");
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2364)? (((NimStringDesc*) &TMP2364))->data:"nil");
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	printf("%s\015\012", ((NimStringDesc*) &TMP2365)? (((NimStringDesc*) &TMP2365))->data:"nil");
	popFrame();
}

N_NIMCALL(void, read_263681)(FutureHEX3Aobjecttype262756* future, TY262749* Result) {
	nimfr("read", "asyncdispatch.nim")
{	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_263701(future);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future).value.Field0));
		(*Result).Field1 = (*future).value.Field1;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_264002;
		NimStringDesc* LOC10;
		e_264002 = 0;
		nimln(2265, "system.nim");
		e_264002 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_264002).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_264002).Sup.message; (*e_264002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2366));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_264002, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
}
N_NIMCALL(void, TMP2371)(void* p, NI op) {
	PdispatcherHEX3Aobjecttype258020* a;
	a = (PdispatcherHEX3Aobjecttype258020*)p;
	nimGCvisit((void*)(*a).Sup.timers, op);
	nimGCvisit((void*)(*a).handles.data, op);
}

N_NIMCALL(PdispatcherHEX3Aobjecttype258020*, newdispatcher_258055)(void) {
	PdispatcherHEX3Aobjecttype258020* result;
	nimfr("newDispatcher", "asyncdispatch.nim")
	result = 0;
	nimln(349, "asyncdispatch.nim");
	result = (PdispatcherHEX3Aobjecttype258020*) newObj((&NTI258006), sizeof(PdispatcherHEX3Aobjecttype258020));
	(*result).Sup.Sup.m_type = (&NTI258020);
	nimln(350, "asyncdispatch.nim");
	(*result).ioport = Dl_105651(((NI) -1), ((NI) 0), ((NI32) 0), ((NI32) 1));
	nimln(351, "asyncdispatch.nim");
	initset_258067(((NI) 64), (&(*result).handles));
	nimln(352, "asyncdispatch.nim");
	if ((*result).Sup.timers) nimGCunref((*result).Sup.timers);
	(*result).Sup.timers = (TY255994*) newSeqRC1((&NTI255994), 0);
	popFrame();
	return result;
}

N_NIMCALL(PdispatcherHEX3Aobjecttype258020*, getglobaldispatcher_258238)(void) {
	PdispatcherHEX3Aobjecttype258020* result;
	nimfr("getGlobalDispatcher", "asyncdispatch.nim")
	result = 0;
	nimln(357, "asyncdispatch.nim");
	{
		if (!gdisp_258237 == 0) goto LA3;
		asgnRef((void**) (&gdisp_258237), newdispatcher_258055());
	}
	LA3: ;
	nimln(358, "asyncdispatch.nim");
	result = gdisp_258237;
	popFrame();
	return result;
}

N_NIMCALL(void, register_258252)(NI fd) {
	PdispatcherHEX3Aobjecttype258020* p;
	nimfr("register", "asyncdispatch.nim")
	nimln(362, "asyncdispatch.nim");
	p = getglobaldispatcher_258238();
	nimln(363, "asyncdispatch.nim");
	{
		NI LOC3;
		NI32 LOC6;
		nimln(364, "asyncdispatch.nim");
		nimln(363, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = Dl_105651(fd, (*p).ioport, ((NI32) (fd)), ((NI32) 1));
		if (!(LOC3 == ((NI) 0))) goto LA4;
		nimln(365, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = oslasterror_140454();
		raiseoserror_140430(LOC6);
	}
	LA4: ;
	nimln(366, "asyncdispatch.nim");
	incl_258257((&(*p).handles), fd);
	popFrame();
}

N_NIMCALL(void, verifypresence_258607)(NI fd) {
	PdispatcherHEX3Aobjecttype258020* p;
	nimfr("verifyPresence", "asyncdispatch.nim")
	nimln(370, "asyncdispatch.nim");
	p = getglobaldispatcher_258238();
	nimln(371, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		Valueerror3449* e_258822;
		NimStringDesc* LOC6;
		LOC3 = 0;
		LOC3 = contains_258612((*p).handles, fd);
		if (!!(LOC3)) goto LA4;
		e_258822 = 0;
		nimln(2265, "system.nim");
		e_258822 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_258822).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_258822).Sup.message; (*e_258822).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2372));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(372, "asyncdispatch.nim");
		raiseException((Exception*)e_258822, "ValueError");
	}
	LA4: ;
	popFrame();
}

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
{	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (a <= i);
		if (!(LOC3)) goto LA4;
		LOC3 = (i <= b);
		LA4: ;
		if (!LOC3) goto LA5;
		result = i;
		goto BeforeRet;
	}
	goto LA1;
	LA5: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1: ;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, poll_258836)(NI timeout) {
	PdispatcherHEX3Aobjecttype258020* p;
	NI32 lltimeout;
	NI32 lpnumberofbytestransferred;
	NI lpcompletionkey;
	Tcustomoverlapped258008* customoverlapped;
	NIM_BOOL res;
	NI32 LOC14;
	PdispatcherbaseHEX3Aobjecttype255993* LOC38;
	nimfr("poll", "asyncdispatch.nim")
	nimln(378, "asyncdispatch.nim");
	p = getglobaldispatcher_258238();
	nimln(379, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		NI LOC4;
		Valueerror3449* e_258862;
		NimStringDesc* LOC8;
		LOC3 = 0;
		LOC4 = 0;
		LOC4 = len_258842((*p).handles);
		LOC3 = (LOC4 == ((NI) 0));
		if (!(LOC3)) goto LA5;
		LOC3 = (((*p).Sup.timers ? (*p).Sup.timers->Sup.len : 0) == ((NI) 0));
		LA5: ;
		if (!LOC3) goto LA6;
		e_258862 = 0;
		nimln(2265, "system.nim");
		e_258862 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_258862).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC8 = 0;
		LOC8 = (*e_258862).Sup.message; (*e_258862).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2373));
		if (LOC8) nimGCunrefNoCycle(LOC8);
		nimln(380, "asyncdispatch.nim");
		raiseException((Exception*)e_258862, "ValueError");
	}
	LA6: ;
	nimln(383, "asyncdispatch.nim");
	nimln(384, "asyncdispatch.nim");
	{
		if (!(timeout == ((NI) -1))) goto LA11;
		lltimeout = ((NI32) -1);
	}
	goto LA9;
	LA11: ;
	{
		lltimeout = ((NI32)chckRange(timeout, ((NI32) (-2147483647 -1)), ((NI32) 2147483647)));
	}
	LA9: ;
	lpnumberofbytestransferred = 0;
	lpcompletionkey = 0;
	customoverlapped = 0;
	nimln(389, "asyncdispatch.nim");
	LOC14 = 0;
	LOC14 = Dl_105660((*p).ioport, (&lpnumberofbytestransferred), (&lpcompletionkey), ((Toverlapped105608**) (&customoverlapped)), lltimeout);
	res = ((NIM_BOOL)chckRange(LOC14, NIM_FALSE, NIM_TRUE));
	nimln(395, "asyncdispatch.nim");
	{
		if (!res) goto LA17;
		nimln(397, "asyncdispatch.nim");
		{
			if (!!(((*customoverlapped).data.fd == lpcompletionkey))) goto LA21;
			failedassertimpl_88817(((NimStringDesc*) &TMP2374));
		}
		LA21: ;
		nimln(399, "asyncdispatch.nim");
		(*customoverlapped).data.cb.ClEnv? (*customoverlapped).data.cb.ClPrc((*customoverlapped).data.fd, lpnumberofbytestransferred, ((NI32) -1), (*customoverlapped).data.cb.ClEnv):((TMP2375)((*customoverlapped).data.cb.ClPrc))((*customoverlapped).data.fd, lpnumberofbytestransferred, ((NI32) -1));
		nimln(401, "asyncdispatch.nim");
		nimGCunref(customoverlapped);
	}
	goto LA15;
	LA17: ;
	{
		NI32 errcode;
		nimln(403, "asyncdispatch.nim");
		errcode = oslasterror_140454();
		nimln(404, "asyncdispatch.nim");
		{
			if (!!((customoverlapped == NIM_NIL))) goto LA26;
			nimln(405, "asyncdispatch.nim");
			{
				if (!!(((*customoverlapped).data.fd == lpcompletionkey))) goto LA30;
				failedassertimpl_88817(((NimStringDesc*) &TMP2374));
			}
			LA30: ;
			nimln(406, "asyncdispatch.nim");
			(*customoverlapped).data.cb.ClEnv? (*customoverlapped).data.cb.ClPrc((*customoverlapped).data.fd, lpnumberofbytestransferred, errcode, (*customoverlapped).data.cb.ClEnv):((TMP2376)((*customoverlapped).data.cb.ClPrc))((*customoverlapped).data.fd, lpnumberofbytestransferred, errcode);
			nimln(408, "asyncdispatch.nim");
			nimGCunref(customoverlapped);
		}
		goto LA24;
		LA26: ;
		{
			nimln(410, "asyncdispatch.nim");
			{
				if (!(errcode == ((NI32) 258))) goto LA35;
			}
			goto LA33;
			LA35: ;
			{
				nimln(413, "asyncdispatch.nim");
				raiseoserror_140430(errcode);
			}
			LA33: ;
		}
		LA24: ;
	}
	LA15: ;
	nimln(416, "asyncdispatch.nim");
	LOC38 = 0;
	LOC38 = &p->Sup;
	processtimers_256005(LOC38);
	popFrame();
}

N_NIMCALL(NIM_BOOL, initpointer_259222)(NI s, void** fun, Tguid105614* guid) {
	NIM_BOOL result;
	NI32 bytesret;
	int LOC1;
	nimfr("initPointer", "asyncdispatch.nim")
	result = 0;
	bytesret = 0;
	nimln(425, "asyncdispatch.nim");
	(*fun) = NIM_NIL;
	nimln(426, "asyncdispatch.nim");
	nimln(428, "asyncdispatch.nim");
	nimln(426, "asyncdispatch.nim");
	nimln(427, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = Dl_105732(s, ((NI32) IL64(3355443206)), ((void*) (guid)), ((NI32)chckRange(((NI)sizeof(Tguid105614)), ((NI32) (-2147483647 -1)), ((NI32) 2147483647))), ((void*) (fun)), ((NI32) 8), (&bytesret), NIM_NIL, NIM_NIL);
	result = (LOC1 == ((NI32) 0));
	popFrame();
	return result;
}

N_NIMCALL(void, initall_259244)(void) {
	NI dummysock;
	nimfr("initAll", "asyncdispatch.nim")
	nimln(431, "asyncdispatch.nim");
	dummysock = newrawsocket_235004(((NU8) 2), ((NU8) 1), ((NU8) 6));
	nimln(432, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		NI32 LOC6;
		LOC3 = 0;
		LOC3 = initpointer_259222(dummysock, (&connectexptr_259219), (&Wsaidconnectex_105714));
		if (!!(LOC3)) goto LA4;
		nimln(433, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = oslasterror_140454();
		raiseoserror_140430(LOC6);
	}
	LA4: ;
	nimln(434, "asyncdispatch.nim");
	{
		NIM_BOOL LOC9;
		NI32 LOC12;
		LOC9 = 0;
		LOC9 = initpointer_259222(dummysock, (&acceptexptr_259220), (&Wsaidacceptex_105718));
		if (!!(LOC9)) goto LA10;
		nimln(435, "asyncdispatch.nim");
		LOC12 = 0;
		LOC12 = oslasterror_140454();
		raiseoserror_140430(LOC12);
	}
	LA10: ;
	nimln(436, "asyncdispatch.nim");
	{
		NIM_BOOL LOC15;
		NI32 LOC18;
		LOC15 = 0;
		LOC15 = initpointer_259222(dummysock, (&getacceptexsockaddrsptr_259221), (&Wsaidgetacceptexsockaddrs_105722));
		if (!!(LOC15)) goto LA16;
		nimln(437, "asyncdispatch.nim");
		LOC18 = 0;
		LOC18 = oslasterror_140454();
		raiseoserror_140430(LOC18);
	}
	LA16: ;
	popFrame();
}

N_NIMCALL(NIM_BOOL, connectex_259256)(NI s, SOCKADDR* name, int namelen, void* lpsendbuffer, NI32 dwsenddatalength, NI32* lpdwbytessent, Toverlapped105608* lpoverlapped) {
	NIM_BOOL result;
	TY259279 fun;
	nimfr("connectEx", "asyncdispatch.nim")
	result = 0;
	nimln(442, "asyncdispatch.nim");
	{
		Valueerror3449* e_259269;
		NimStringDesc* LOC5;
		if (!connectexptr_259219 == 0) goto LA3;
		e_259269 = 0;
		nimln(2265, "system.nim");
		e_259269 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_259269).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC5 = 0;
		LOC5 = (*e_259269).Sup.message; (*e_259269).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2377));
		if (LOC5) nimGCunrefNoCycle(LOC5);
		nimln(442, "asyncdispatch.nim");
		raiseException((Exception*)e_259269, "ValueError");
	}
	LA3: ;
	nimln(443, "asyncdispatch.nim");
	fun = ((TY259279) (connectexptr_259219));
	nimln(448, "asyncdispatch.nim");
	result = fun(s, name, namelen, lpsendbuffer, dwsenddatalength, lpdwbytessent, lpoverlapped);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, acceptex_259302)(NI listensock, NI acceptsock, void* lpoutputbuffer, NI32 dwreceivedatalength, NI32 dwlocaladdresslength, NI32 dwremoteaddresslength, NI32* lpdwbytesreceived, Toverlapped105608* lpoverlapped) {
	NIM_BOOL result;
	TY259325 fun;
	nimfr("acceptEx", "asyncdispatch.nim")
	result = 0;
	nimln(455, "asyncdispatch.nim");
	{
		Valueerror3449* e_259315;
		NimStringDesc* LOC5;
		if (!acceptexptr_259220 == 0) goto LA3;
		e_259315 = 0;
		nimln(2265, "system.nim");
		e_259315 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_259315).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC5 = 0;
		LOC5 = (*e_259315).Sup.message; (*e_259315).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2378));
		if (LOC5) nimGCunrefNoCycle(LOC5);
		nimln(455, "asyncdispatch.nim");
		raiseException((Exception*)e_259315, "ValueError");
	}
	LA3: ;
	nimln(456, "asyncdispatch.nim");
	fun = ((TY259325) (acceptexptr_259220));
	nimln(461, "asyncdispatch.nim");
	result = fun(listensock, acceptsock, lpoutputbuffer, dwreceivedatalength, dwlocaladdresslength, dwremoteaddresslength, lpdwbytesreceived, lpoverlapped);
	popFrame();
	return result;
}

N_NIMCALL(void, getacceptexsockaddrs_259346)(void* lpoutputbuffer, NI32 dwreceivedatalength, NI32 dwlocaladdresslength, NI32 dwremoteaddresslength, SOCKADDR** Localsockaddr, NI32* Localsockaddrlength, SOCKADDR** Remotesockaddr, NI32* Remotesockaddrlength) {
	TY259372 fun;
	nimfr("getAcceptExSockaddrs", "asyncdispatch.nim")
	nimln(469, "asyncdispatch.nim");
	{
		Valueerror3449* e_259362;
		NimStringDesc* LOC5;
		if (!getacceptexsockaddrsptr_259221 == 0) goto LA3;
		e_259362 = 0;
		nimln(2265, "system.nim");
		e_259362 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_259362).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC5 = 0;
		LOC5 = (*e_259362).Sup.message; (*e_259362).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2379));
		if (LOC5) nimGCunrefNoCycle(LOC5);
		nimln(470, "asyncdispatch.nim");
		raiseException((Exception*)e_259362, "ValueError");
	}
	LA3: ;
	nimln(472, "asyncdispatch.nim");
	fun = ((TY259372) (getacceptexsockaddrsptr_259221));
	nimln(479, "asyncdispatch.nim");
	fun(lpoutputbuffer, dwreceivedatalength, dwlocaladdresslength, dwremoteaddresslength, Localsockaddr, Localsockaddrlength, Remotesockaddr, Remotesockaddrlength);
	popFrame();
}
N_NIMCALL(void, TMP2381)(void* p, NI op) {
	TY259730* a;
	a = (TY259730*)p;
	nimGCvisit((void*)(*a).retfuture259613, op);
}
N_NIMCALL(void, TMP2384)(void* p, NI op) {
	TY259733* a;
	a = (TY259733*)p;
	nimGCvisit((void*)(*a).HEX3Aup259747, op);
}
N_NIMCALL(void, TMP2386)(void* p, NI op) {
	TY259736* a;
	a = (TY259736*)p;
	nimGCvisit((void*)(*a).HEX3Aup259744, op);
}
N_NIMCALL(void, TMP2390)(void* p, NI op) {
	Tcustomoverlapped258008* a;
	a = (Tcustomoverlapped258008*)p;
	nimGCvisit((void*)(*a).data.cb.ClEnv, op);
}

static N_INLINE(void, nimGCref)(void* p) {
	Tcell46746* LOC1;
	nimfr("nimGCref", "gc.nim")
	nimln(222, "gc.nim");
	LOC1 = 0;
	LOC1 = usrtocell_50246(p);
	incref_52622(LOC1);
	popFrame();
}

N_CLOSURE(void, HEX3Aanonymous_259641)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv) {
	TY259736* HEX3Aenvp_259742;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_259742 = (TY259736*) ClEnv;
	nimln(511, "asyncdispatch.nim");
	{
		if (!!((*(*(*(*HEX3Aenvp_259742).HEX3Aup259744).HEX3Aup259747).retfuture259613).Sup.finished)) goto LA3;
		nimln(512, "asyncdispatch.nim");
		{
			if (!(errcode == ((NI32) -1))) goto LA7;
			nimln(513, "asyncdispatch.nim");
			complete_255090((*(*(*HEX3Aenvp_259742).HEX3Aup259744).HEX3Aup259747).retfuture259613);
		}
		goto LA5;
		LA7: ;
		{
			Oserror3433* e_259648;
			Exception* LOC10;
			nimln(515, "asyncdispatch.nim");
			e_259648 = 0;
			nimln(2265, "system.nim");
			e_259648 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
			(*e_259648).Sup.Sup.Sup.m_type = (&NTI3433);
			nimln(2266, "system.nim");
			asgnRefNoCycle((void**) (&(*e_259648).Sup.Sup.message), oserrormsg_140020(errcode));
			LOC10 = 0;
			LOC10 = &e_259648->Sup.Sup;
			fail_259659((*(*(*HEX3Aenvp_259742).HEX3Aup259744).HEX3Aup259747).retfuture259613, LOC10);
		}
		LA5: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype255097*, connect_259397)(NI socket, NimStringDesc* address, NU16 port, NU8 af) {
	FutureHEX3Aobjecttype255097* result;
	TY259730* HEX3Aenv_259755;
	SOCKADDR_IN saddr;
	int LOC1;
	Addrinfo104868* ailist;
	NIM_BOOL success;
	NI32 lasterror;
	Addrinfo104868* it;
	nimfr("connect", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_259755 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_259755 = (TY259730*) newObj((&NTI259756), sizeof(TY259730));
	nimln(489, "asyncdispatch.nim");
	verifypresence_258607(socket);
	nimln(490, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_259755).retfuture259613), newfuture_259407(((NimStringDesc*) &TMP2382)));
	memset((void*)(&saddr), 0, sizeof(saddr));
	nimln(493, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = toint_234829(af);
	saddr.sin_family = ((NI16)chckRange(LOC1, ((NI16) -32768), ((NI16) 32767)));
	nimln(494, "asyncdispatch.nim");
	saddr.sin_port = ((NI16) 0);
	nimln(495, "asyncdispatch.nim");
	saddr.sin_addr.s_addr = ((NI32) 0);
	nimln(496, "asyncdispatch.nim");
	{
		int LOC4;
		NI32 LOC7;
		nimln(497, "asyncdispatch.nim");
		nimln(496, "asyncdispatch.nim");
		nimln(497, "asyncdispatch.nim");
		LOC4 = 0;
		LOC4 = bindaddr_235207(socket, ((SOCKADDR*) ((&saddr))), ((unsigned int) (((NI)sizeof(SOCKADDR_IN)))));
		if (!(LOC4 < ((NI32) 0))) goto LA5;
		nimln(498, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = oslasterror_140454();
		raiseoserror_140430(LOC7);
	}
	LA5: ;
	nimln(500, "asyncdispatch.nim");
	ailist = getaddrinfo_235408(address, port, af, ((NU8) 1), ((NU8) 6));
	nimln(501, "asyncdispatch.nim");
	success = NIM_FALSE;
	lasterror = 0;
	nimln(503, "asyncdispatch.nim");
	it = ailist;
	{
		TY259733* HEX3Aenv_259753;
		HEX3Aenv_259753 = 0;
		nimln(180, "system.nim");
		HEX3Aenv_259753 = (TY259733*) newObj((&NTI259754), sizeof(TY259733));
		nimln(504, "asyncdispatch.nim");
		asgnRef((void**) (&(*HEX3Aenv_259753).HEX3Aup259747), HEX3Aenv_259755);
		while (1) {
			TY259736* HEX3Aenv_259751;
			Tcustomoverlapped258008* ol;
			Tcustomoverlapped258008* LOC10;
			Tcompletiondata258004 LOC11;
			TY258014 LOC12;
			NIM_BOOL ret;
			if (!!((it == NIM_NIL))) goto LA9;
			HEX3Aenv_259751 = 0;
			nimln(180, "system.nim");
			HEX3Aenv_259751 = (TY259736*) newObj((&NTI259752), sizeof(TY259736));
			nimln(507, "asyncdispatch.nim");
			asgnRef((void**) (&(*HEX3Aenv_259751).HEX3Aup259744), HEX3Aenv_259753);
			LOC10 = 0;
			LOC10 = (Tcustomoverlapped258008*) newObj((&NTI258010), sizeof(Tcustomoverlapped258008));
			ol = LOC10;
			nimln(508, "asyncdispatch.nim");
			nimGCref(ol);
			nimln(509, "asyncdispatch.nim");
			memset((void*)(&LOC11), 0, sizeof(LOC11));
			memset((void*)(&LOC11), 0, sizeof(LOC11));
			LOC11.fd = socket;
			memset((void*)(&LOC12), 0, sizeof(LOC12));
			LOC12.ClPrc = HEX3Aanonymous_259641; LOC12.ClEnv = HEX3Aenv_259751;
			LOC11.cb.ClEnv = LOC12.ClEnv;
			LOC11.cb.ClPrc = LOC12.ClPrc;
			(*ol).data.fd = LOC11.fd;
			asgnRef((void**) (&(*ol).data.cb.ClEnv), LOC11.cb.ClEnv);
			(*ol).data.cb.ClPrc = LOC11.cb.ClPrc;
			nimln(518, "asyncdispatch.nim");
			nimln(519, "asyncdispatch.nim");
			ret = connectex_259256(socket, (*it).aiaddr, ((int)chckRange(((NI)sizeof(SOCKADDR_IN)), ((int) (-2147483647 -1)), ((int) 2147483647))), NIM_NIL, ((NI32) 0), NIM_NIL, ((Toverlapped105608*) (ol)));
			nimln(521, "asyncdispatch.nim");
			{
				if (!ret) goto LA15;
				nimln(523, "asyncdispatch.nim");
				success = NIM_TRUE;
				nimln(524, "asyncdispatch.nim");
				complete_255090((*HEX3Aenv_259755).retfuture259613);
				nimln(528, "asyncdispatch.nim");
				goto LA8;
			}
			goto LA13;
			LA15: ;
			{
				nimln(530, "asyncdispatch.nim");
				lasterror = oslasterror_140454();
				nimln(531, "asyncdispatch.nim");
				{
					if (!(lasterror == ((NI32) 997))) goto LA20;
					nimln(533, "asyncdispatch.nim");
					success = NIM_TRUE;
					nimln(534, "asyncdispatch.nim");
					goto LA8;
				}
				goto LA18;
				LA20: ;
				{
					nimln(536, "asyncdispatch.nim");
					nimGCunref(ol);
					nimln(537, "asyncdispatch.nim");
					success = NIM_FALSE;
				}
				LA18: ;
			}
			LA13: ;
			nimln(538, "asyncdispatch.nim");
			it = (*it).ainext;
		} LA9: ;
	} LA8: ;
	nimln(540, "asyncdispatch.nim");
	dealloc_235608(ailist);
	nimln(541, "asyncdispatch.nim");
	{
		Oserror3433* e_259699;
		Exception* LOC27;
		if (!!(success)) goto LA25;
		nimln(542, "asyncdispatch.nim");
		e_259699 = 0;
		nimln(2265, "system.nim");
		e_259699 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
		(*e_259699).Sup.Sup.Sup.m_type = (&NTI3433);
		nimln(2266, "system.nim");
		asgnRefNoCycle((void**) (&(*e_259699).Sup.Sup.message), oserrormsg_140020(lasterror));
		LOC27 = 0;
		LOC27 = &e_259699->Sup.Sup;
		fail_259659((*HEX3Aenv_259755).retfuture259613, LOC27);
	}
	LA25: ;
	nimln(543, "asyncdispatch.nim");
	result = (*HEX3Aenv_259755).retfuture259613;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2396)(void* p, NI op) {
	TY261222* a;
	a = (TY261222*)p;
	nimGCvisit((void*)(*a).retfuture260013, op);
}

N_CLOSURE(void, HEX3Aanonymous_260025)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv) {
	TY261222* HEX3Aenvp_261228;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_261228 = (TY261222*) ClEnv;
	nimln(575, "asyncdispatch.nim");
	{
		if (!!((*(*HEX3Aenvp_261228).retfuture260013).Sup.finished)) goto LA3;
		nimln(576, "asyncdispatch.nim");
		{
			if (!(errcode == ((NI32) -1))) goto LA7;
			nimln(577, "asyncdispatch.nim");
			{
				NIM_BOOL LOC11;
				LOC11 = 0;
				LOC11 = (bytescount == ((NI32) 0));
				if (!(LOC11)) goto LA12;
				LOC11 = ((NU8)((*HEX3Aenvp_261228).databuf260014.buf[((NI) 0)]) == (NU8)(0));
				LA12: ;
				if (!LOC11) goto LA13;
				nimln(578, "asyncdispatch.nim");
				complete_260031((*HEX3Aenvp_261228).retfuture260013, ((NimStringDesc*) &TMP2400));
			}
			goto LA9;
			LA13: ;
			{
				NimStringDesc* data;
				nimln(580, "asyncdispatch.nim");
				data = mnewString(((NI)chckRange(bytescount, ((NI) 0), ((NI) IL64(9223372036854775807)))));
				nimln(581, "asyncdispatch.nim");
				{
					if (!!((((NI) (bytescount)) <= (*HEX3Aenvp_261228).size259760))) goto LA18;
					failedassertimpl_88817(((NimStringDesc*) &TMP2401));
				}
				LA18: ;
				nimln(582, "asyncdispatch.nim");
				if ((NU)(((NI) 0)) > (NU)(data->Sup.len)) raiseIndexError();
				memcpy(((void*) ((&data->data[((NI) 0)]))), ((void*) ((&(*HEX3Aenvp_261228).databuf260014.buf[((NI) 0)]))), ((NI)chckRange(bytescount, ((NI) 0), ((NI) IL64(9223372036854775807)))));
				nimln(583, "asyncdispatch.nim");
				complete_260031((*HEX3Aenvp_261228).retfuture260013, data);
			}
			LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			nimln(585, "asyncdispatch.nim");
			{
				NIM_BOOL LOC23;
				LOC23 = 0;
				LOC23 = isdisconnectionerror_239481((*HEX3Aenvp_261228).flags259763, errcode);
				if (!LOC23) goto LA24;
				nimln(586, "asyncdispatch.nim");
				complete_260031((*HEX3Aenvp_261228).retfuture260013, ((NimStringDesc*) &TMP2400));
			}
			goto LA21;
			LA24: ;
			{
				Oserror3433* e_261023;
				Exception* LOC27;
				nimln(588, "asyncdispatch.nim");
				e_261023 = 0;
				nimln(2265, "system.nim");
				e_261023 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_261023).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_261023).Sup.Sup.message), oserrormsg_140020(errcode));
				LOC27 = 0;
				LOC27 = &e_261023->Sup.Sup;
				fail_261034((*HEX3Aenvp_261228).retfuture260013, LOC27);
			}
			LA21: ;
		}
		LA5: ;
	}
	LA3: ;
	nimln(589, "asyncdispatch.nim");
	{
		if (!!(((*HEX3Aenvp_261228).databuf260014.buf == NIM_NIL))) goto LA30;
		nimln(590, "asyncdispatch.nim");
		dealloc_6048(((void*) ((*HEX3Aenvp_261228).databuf260014.buf)));
		nimln(591, "asyncdispatch.nim");
		(*HEX3Aenvp_261228).databuf260014.buf = NIM_NIL;
	}
	LA30: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype259769*, recv_259757)(NI socket, NI size, NU8 flags) {
	FutureHEX3Aobjecttype259769* result;
	TY261222* HEX3Aenv_261234;
	void* LOC5;
	NI32 bytesreceived;
	NI32 flagsio;
	Tcustomoverlapped258008* ol;
	Tcustomoverlapped258008* LOC6;
	Tcompletiondata258004 LOC7;
	TY258014 LOC8;
	int ret;
	nimfr("recv", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_261234 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_261234 = (TY261222*) newObj((&NTI261235), sizeof(TY261222));
	nimln(547, "asyncdispatch.nim");
	(*HEX3Aenv_261234).size259760 = size;
	(*HEX3Aenv_261234).flags259763 = flags;
	nimln(561, "asyncdispatch.nim");
	verifypresence_258607(socket);
	nimln(562, "asyncdispatch.nim");
	{
		if (!!(!((((*HEX3Aenv_261234).flags259763 &(1<<((((NU8) 0))&7)))!=0)))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2397));
	}
	LA3: ;
	nimln(564, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_261234).retfuture260013), newfuture_259802(((NimStringDesc*) &TMP2398)));
	nimln(566, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = alloc0_6017(((NI)chckRange((*HEX3Aenv_261234).size259760, ((NI) 0), ((NI) IL64(9223372036854775807)))));
	(*HEX3Aenv_261234).databuf260014.buf = ((NCSTRING) (LOC5));
	nimln(567, "asyncdispatch.nim");
	(*HEX3Aenv_261234).databuf260014.len = (*HEX3Aenv_261234).size259760;
	bytesreceived = 0;
	nimln(570, "asyncdispatch.nim");
	flagsio = toosflags_239631((*HEX3Aenv_261234).flags259763);
	nimln(571, "asyncdispatch.nim");
	LOC6 = 0;
	LOC6 = (Tcustomoverlapped258008*) newObj((&NTI258010), sizeof(Tcustomoverlapped258008));
	ol = LOC6;
	nimln(572, "asyncdispatch.nim");
	nimGCref(ol);
	nimln(573, "asyncdispatch.nim");
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	LOC7.fd = socket;
	memset((void*)(&LOC8), 0, sizeof(LOC8));
	LOC8.ClPrc = HEX3Aanonymous_260025; LOC8.ClEnv = HEX3Aenv_261234;
	LOC7.cb.ClEnv = LOC8.ClEnv;
	LOC7.cb.ClPrc = LOC8.ClPrc;
	(*ol).data.fd = LOC7.fd;
	asgnRef((void**) (&(*ol).data.cb.ClEnv), LOC7.cb.ClEnv);
	(*ol).data.cb.ClPrc = LOC7.cb.ClPrc;
	nimln(594, "asyncdispatch.nim");
	ret = Dl_105753(socket, (&(*HEX3Aenv_261234).databuf260014), ((NI32) 1), (&bytesreceived), (&flagsio), ((Toverlapped105608*) (ol)), NIM_NIL);
	nimln(596, "asyncdispatch.nim");
	{
		NI32 err;
		if (!(ret == ((NI32) -1))) goto LA11;
		nimln(597, "asyncdispatch.nim");
		err = oslasterror_140454();
		nimln(598, "asyncdispatch.nim");
		{
			if (!!((err == ((NI32) 997)))) goto LA15;
			nimln(599, "asyncdispatch.nim");
			{
				if (!!(((*HEX3Aenv_261234).databuf260014.buf == NIM_NIL))) goto LA19;
				nimln(600, "asyncdispatch.nim");
				dealloc_6048(((void*) ((*HEX3Aenv_261234).databuf260014.buf)));
				nimln(601, "asyncdispatch.nim");
				(*HEX3Aenv_261234).databuf260014.buf = NIM_NIL;
			}
			LA19: ;
			nimln(602, "asyncdispatch.nim");
			nimGCunref(ol);
			nimln(603, "asyncdispatch.nim");
			{
				NIM_BOOL LOC23;
				LOC23 = 0;
				LOC23 = isdisconnectionerror_239481((*HEX3Aenv_261234).flags259763, err);
				if (!LOC23) goto LA24;
				nimln(604, "asyncdispatch.nim");
				complete_260031((*HEX3Aenv_261234).retfuture260013, ((NimStringDesc*) &TMP2400));
			}
			goto LA21;
			LA24: ;
			{
				Oserror3433* e_261085;
				Exception* LOC27;
				nimln(606, "asyncdispatch.nim");
				e_261085 = 0;
				nimln(2265, "system.nim");
				e_261085 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_261085).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_261085).Sup.Sup.message), oserrormsg_140020(err));
				LOC27 = 0;
				LOC27 = &e_261085->Sup.Sup;
				fail_261034((*HEX3Aenv_261234).retfuture260013, LOC27);
			}
			LA21: ;
		}
		LA15: ;
	}
	goto LA9;
	LA11: ;
	{
		NIM_BOOL LOC29;
		NIM_BOOL LOC30;
		nimln(607, "asyncdispatch.nim");
		LOC29 = 0;
		LOC30 = 0;
		LOC30 = (ret == ((NI32) 0));
		if (!(LOC30)) goto LA31;
		LOC30 = (bytesreceived == ((NI32) 0));
		LA31: ;
		LOC29 = LOC30;
		if (!(LOC29)) goto LA32;
		LOC29 = ((NU8)((*HEX3Aenv_261234).databuf260014.buf[((NI) 0)]) == (NU8)(0));
		LA32: ;
		if (!LOC29) goto LA33;
		nimln(614, "asyncdispatch.nim");
		complete_260031((*HEX3Aenv_261234).retfuture260013, ((NimStringDesc*) &TMP2400));
	}
	goto LA9;
	LA33: ;
	{
		NI realsize;
		NimStringDesc* data;
		nimln(622, "asyncdispatch.nim");
		nimln(623, "asyncdispatch.nim");
		{
			if (!(bytesreceived == ((NI32) 0))) goto LA38;
			realsize = (*HEX3Aenv_261234).size259760;
		}
		goto LA36;
		LA38: ;
		{
			realsize = ((NI) (bytesreceived));
		}
		LA36: ;
		nimln(627, "asyncdispatch.nim");
		data = mnewString(((NI)chckRange(realsize, ((NI) 0), ((NI) IL64(9223372036854775807)))));
		nimln(628, "asyncdispatch.nim");
		{
			if (!!((realsize <= (*HEX3Aenv_261234).size259760))) goto LA43;
			failedassertimpl_88817(((NimStringDesc*) &TMP2402));
		}
		LA43: ;
		nimln(629, "asyncdispatch.nim");
		if ((NU)(((NI) 0)) > (NU)(data->Sup.len)) raiseIndexError();
		memcpy(((void*) ((&data->data[((NI) 0)]))), ((void*) ((&(*HEX3Aenv_261234).databuf260014.buf[((NI) 0)]))), ((NI)chckRange(realsize, ((NI) 0), ((NI) IL64(9223372036854775807)))));
		nimln(631, "asyncdispatch.nim");
		complete_260031((*HEX3Aenv_261234).retfuture260013, data);
	}
	LA9: ;
	nimln(635, "asyncdispatch.nim");
	result = (*HEX3Aenv_261234).retfuture260013;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2404)(void* p, NI op) {
	TY262619* a;
	a = (TY262619*)p;
	nimGCvisit((void*)(*a).retfuture261613, op);
}

N_CLOSURE(void, HEX3Aanonymous_261625)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv) {
	TY262619* HEX3Aenvp_262625;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_262625 = (TY262619*) ClEnv;
	nimln(670, "asyncdispatch.nim");
	{
		if (!!((*(*HEX3Aenvp_262625).retfuture261613).Sup.finished)) goto LA3;
		nimln(671, "asyncdispatch.nim");
		{
			if (!(errcode == ((NI32) -1))) goto LA7;
			nimln(672, "asyncdispatch.nim");
			{
				NIM_BOOL LOC11;
				LOC11 = 0;
				LOC11 = (bytescount == ((NI32) 0));
				if (!(LOC11)) goto LA12;
				LOC11 = ((NU8)((*HEX3Aenvp_262625).databuf261614.buf[((NI) 0)]) == (NU8)(0));
				LA12: ;
				if (!LOC11) goto LA13;
				nimln(673, "asyncdispatch.nim");
				complete_261631((*HEX3Aenvp_262625).retfuture261613, ((NI) 0));
			}
			goto LA9;
			LA13: ;
			{
				nimln(675, "asyncdispatch.nim");
				complete_261631((*HEX3Aenvp_262625).retfuture261613, ((NI) (bytescount)));
			}
			LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			nimln(677, "asyncdispatch.nim");
			{
				NIM_BOOL LOC19;
				LOC19 = 0;
				LOC19 = isdisconnectionerror_239481((*HEX3Aenvp_262625).flags261243, errcode);
				if (!LOC19) goto LA20;
				nimln(678, "asyncdispatch.nim");
				complete_261631((*HEX3Aenvp_262625).retfuture261613, ((NI) 0));
			}
			goto LA17;
			LA20: ;
			{
				Oserror3433* e_262433;
				Exception* LOC23;
				nimln(680, "asyncdispatch.nim");
				e_262433 = 0;
				nimln(2265, "system.nim");
				e_262433 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_262433).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_262433).Sup.Sup.message), oserrormsg_140020(errcode));
				LOC23 = 0;
				LOC23 = &e_262433->Sup.Sup;
				fail_262444((*HEX3Aenvp_262625).retfuture261613, LOC23);
			}
			LA17: ;
		}
		LA5: ;
	}
	LA3: ;
	nimln(681, "asyncdispatch.nim");
	{
		if (!!(((*HEX3Aenvp_262625).databuf261614.buf == NIM_NIL))) goto LA26;
		nimln(682, "asyncdispatch.nim");
		(*HEX3Aenvp_262625).databuf261614.buf = NIM_NIL;
	}
	LA26: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype261249*, recvinto_261236)(NI socket, NCSTRING buf, NI size, NU8 flags) {
	FutureHEX3Aobjecttype261249* result;
	TY262619* HEX3Aenv_262630;
	NI32 bytesreceived;
	NI32 flagsio;
	Tcustomoverlapped258008* ol;
	Tcustomoverlapped258008* LOC5;
	Tcompletiondata258004 LOC6;
	TY258014 LOC7;
	int ret;
	nimfr("recvInto", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_262630 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_262630 = (TY262619*) newObj((&NTI262631), sizeof(TY262619));
	nimln(639, "asyncdispatch.nim");
	(*HEX3Aenv_262630).flags261243 = flags;
	nimln(654, "asyncdispatch.nim");
	verifypresence_258607(socket);
	nimln(655, "asyncdispatch.nim");
	{
		if (!!(!((((*HEX3Aenv_262630).flags261243 &(1<<((((NU8) 0))&7)))!=0)))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2397));
	}
	LA3: ;
	nimln(657, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_262630).retfuture261613), newfuture_261402(((NimStringDesc*) &TMP2405)));
	nimln(661, "asyncdispatch.nim");
	(*HEX3Aenv_262630).databuf261614.buf = buf;
	nimln(662, "asyncdispatch.nim");
	(*HEX3Aenv_262630).databuf261614.len = size;
	bytesreceived = 0;
	nimln(665, "asyncdispatch.nim");
	flagsio = toosflags_239631((*HEX3Aenv_262630).flags261243);
	nimln(666, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (Tcustomoverlapped258008*) newObj((&NTI258010), sizeof(Tcustomoverlapped258008));
	ol = LOC5;
	nimln(667, "asyncdispatch.nim");
	nimGCref(ol);
	nimln(668, "asyncdispatch.nim");
	memset((void*)(&LOC6), 0, sizeof(LOC6));
	memset((void*)(&LOC6), 0, sizeof(LOC6));
	LOC6.fd = socket;
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	LOC7.ClPrc = HEX3Aanonymous_261625; LOC7.ClEnv = HEX3Aenv_262630;
	LOC6.cb.ClEnv = LOC7.ClEnv;
	LOC6.cb.ClPrc = LOC7.ClPrc;
	(*ol).data.fd = LOC6.fd;
	asgnRef((void**) (&(*ol).data.cb.ClEnv), LOC6.cb.ClEnv);
	(*ol).data.cb.ClPrc = LOC6.cb.ClPrc;
	nimln(685, "asyncdispatch.nim");
	ret = Dl_105753(socket, (&(*HEX3Aenv_262630).databuf261614), ((NI32) 1), (&bytesreceived), (&flagsio), ((Toverlapped105608*) (ol)), NIM_NIL);
	nimln(687, "asyncdispatch.nim");
	{
		NI32 err;
		if (!(ret == ((NI32) -1))) goto LA10;
		nimln(688, "asyncdispatch.nim");
		err = oslasterror_140454();
		nimln(689, "asyncdispatch.nim");
		{
			if (!!((err == ((NI32) 997)))) goto LA14;
			nimln(690, "asyncdispatch.nim");
			{
				if (!!(((*HEX3Aenv_262630).databuf261614.buf == NIM_NIL))) goto LA18;
				nimln(691, "asyncdispatch.nim");
				(*HEX3Aenv_262630).databuf261614.buf = NIM_NIL;
			}
			LA18: ;
			nimln(692, "asyncdispatch.nim");
			nimGCunref(ol);
			nimln(693, "asyncdispatch.nim");
			{
				NIM_BOOL LOC22;
				LOC22 = 0;
				LOC22 = isdisconnectionerror_239481((*HEX3Aenv_262630).flags261243, err);
				if (!LOC22) goto LA23;
				nimln(694, "asyncdispatch.nim");
				complete_261631((*HEX3Aenv_262630).retfuture261613, ((NI) 0));
			}
			goto LA20;
			LA23: ;
			{
				Oserror3433* e_262495;
				Exception* LOC26;
				nimln(696, "asyncdispatch.nim");
				e_262495 = 0;
				nimln(2265, "system.nim");
				e_262495 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_262495).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_262495).Sup.Sup.message), oserrormsg_140020(err));
				LOC26 = 0;
				LOC26 = &e_262495->Sup.Sup;
				fail_262444((*HEX3Aenv_262630).retfuture261613, LOC26);
			}
			LA20: ;
		}
		LA14: ;
	}
	goto LA8;
	LA10: ;
	{
		NIM_BOOL LOC28;
		NIM_BOOL LOC29;
		nimln(697, "asyncdispatch.nim");
		LOC28 = 0;
		LOC29 = 0;
		LOC29 = (ret == ((NI32) 0));
		if (!(LOC29)) goto LA30;
		LOC29 = (bytesreceived == ((NI32) 0));
		LA30: ;
		LOC28 = LOC29;
		if (!(LOC28)) goto LA31;
		LOC28 = ((NU8)((*HEX3Aenv_262630).databuf261614.buf[((NI) 0)]) == (NU8)(0));
		LA31: ;
		if (!LOC28) goto LA32;
		nimln(704, "asyncdispatch.nim");
		complete_261631((*HEX3Aenv_262630).retfuture261613, ((NI) 0));
	}
	goto LA8;
	LA32: ;
	{
		NI realsize;
		nimln(712, "asyncdispatch.nim");
		nimln(713, "asyncdispatch.nim");
		{
			if (!(bytesreceived == ((NI32) 0))) goto LA37;
			realsize = size;
		}
		goto LA35;
		LA37: ;
		{
			realsize = ((NI) (bytesreceived));
		}
		LA35: ;
		nimln(717, "asyncdispatch.nim");
		{
			if (!!((realsize <= size))) goto LA42;
			failedassertimpl_88817(((NimStringDesc*) &TMP2402));
		}
		LA42: ;
		nimln(718, "asyncdispatch.nim");
		complete_261631((*HEX3Aenv_262630).retfuture261613, realsize);
	}
	LA8: ;
	nimln(722, "asyncdispatch.nim");
	result = (*HEX3Aenv_262630).retfuture261613;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2407)(void* p, NI op) {
	TY262730* a;
	a = (TY262730*)p;
	nimGCvisit((void*)(*a).retfuture262650, op);
}

N_CLOSURE(void, HEX3Aanonymous_262662)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv) {
	TY262730* HEX3Aenvp_262736;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_262736 = (TY262730*) ClEnv;
	nimln(740, "asyncdispatch.nim");
	{
		if (!!((*(*HEX3Aenvp_262736).retfuture262650).Sup.finished)) goto LA3;
		nimln(741, "asyncdispatch.nim");
		{
			if (!(errcode == ((NI32) -1))) goto LA7;
			nimln(742, "asyncdispatch.nim");
			complete_255090((*HEX3Aenvp_262736).retfuture262650);
		}
		goto LA5;
		LA7: ;
		{
			nimln(744, "asyncdispatch.nim");
			{
				NIM_BOOL LOC12;
				LOC12 = 0;
				LOC12 = isdisconnectionerror_239481((*HEX3Aenvp_262736).flags262638, errcode);
				if (!LOC12) goto LA13;
				nimln(745, "asyncdispatch.nim");
				complete_255090((*HEX3Aenvp_262736).retfuture262650);
			}
			goto LA10;
			LA13: ;
			{
				Oserror3433* e_262669;
				Exception* LOC16;
				nimln(747, "asyncdispatch.nim");
				e_262669 = 0;
				nimln(2265, "system.nim");
				e_262669 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_262669).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_262669).Sup.Sup.message), oserrormsg_140020(errcode));
				LOC16 = 0;
				LOC16 = &e_262669->Sup.Sup;
				fail_259659((*HEX3Aenvp_262736).retfuture262650, LOC16);
			}
			LA10: ;
		}
		LA5: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype255097*, send_262632)(NI socket, NimStringDesc* data, NU8 flags) {
	FutureHEX3Aobjecttype255097* result;
	TY262730* HEX3Aenv_262740;
	WSABUF databuf;
	NI32 bytesreceived;
	NI32 lowflags;
	Tcustomoverlapped258008* ol;
	Tcustomoverlapped258008* LOC1;
	Tcompletiondata258004 LOC2;
	TY258014 LOC3;
	int ret;
	nimfr("send", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_262740 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_262740 = (TY262730*) newObj((&NTI262741), sizeof(TY262730));
	nimln(726, "asyncdispatch.nim");
	(*HEX3Aenv_262740).flags262638 = flags;
	nimln(728, "asyncdispatch.nim");
	verifypresence_258607(socket);
	nimln(729, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_262740).retfuture262650), newfuture_259407(((NimStringDesc*) &TMP2408)));
	memset((void*)(&databuf), 0, sizeof(databuf));
	nimln(732, "asyncdispatch.nim");
	databuf.buf = data->data;
	nimln(733, "asyncdispatch.nim");
	databuf.len = (data ? data->Sup.len : 0);
	bytesreceived = 0;
	lowflags = 0;
	nimln(736, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (Tcustomoverlapped258008*) newObj((&NTI258010), sizeof(Tcustomoverlapped258008));
	ol = LOC1;
	nimln(737, "asyncdispatch.nim");
	nimGCref(ol);
	nimln(738, "asyncdispatch.nim");
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.fd = socket;
	memset((void*)(&LOC3), 0, sizeof(LOC3));
	LOC3.ClPrc = HEX3Aanonymous_262662; LOC3.ClEnv = HEX3Aenv_262740;
	LOC2.cb.ClEnv = LOC3.ClEnv;
	LOC2.cb.ClPrc = LOC3.ClPrc;
	(*ol).data.fd = LOC2.fd;
	asgnRef((void**) (&(*ol).data.cb.ClEnv), LOC2.cb.ClEnv);
	(*ol).data.cb.ClPrc = LOC2.cb.ClPrc;
	nimln(750, "asyncdispatch.nim");
	ret = Dl_105766(socket, (&databuf), ((NI32) 1), (&bytesreceived), lowflags, ((Toverlapped105608*) (ol)), NIM_NIL);
	nimln(752, "asyncdispatch.nim");
	{
		NI32 err;
		if (!(ret == ((NI32) -1))) goto LA6;
		nimln(753, "asyncdispatch.nim");
		err = oslasterror_140454();
		nimln(754, "asyncdispatch.nim");
		{
			if (!!((err == ((NI32) 997)))) goto LA10;
			nimln(755, "asyncdispatch.nim");
			nimGCunref(ol);
			nimln(756, "asyncdispatch.nim");
			{
				NIM_BOOL LOC14;
				LOC14 = 0;
				LOC14 = isdisconnectionerror_239481((*HEX3Aenv_262740).flags262638, err);
				if (!LOC14) goto LA15;
				nimln(757, "asyncdispatch.nim");
				complete_255090((*HEX3Aenv_262740).retfuture262650);
			}
			goto LA12;
			LA15: ;
			{
				Oserror3433* e_262702;
				Exception* LOC18;
				nimln(759, "asyncdispatch.nim");
				e_262702 = 0;
				nimln(2265, "system.nim");
				e_262702 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_262702).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_262702).Sup.Sup.message), oserrormsg_140020(err));
				LOC18 = 0;
				LOC18 = &e_262702->Sup.Sup;
				fail_259659((*HEX3Aenv_262740).retfuture262650, LOC18);
			}
			LA12: ;
		}
		LA10: ;
	}
	goto LA4;
	LA6: ;
	{
		nimln(761, "asyncdispatch.nim");
		complete_255090((*HEX3Aenv_262740).retfuture262650);
	}
	LA4: ;
	nimln(765, "asyncdispatch.nim");
	result = (*HEX3Aenv_262740).retfuture262650;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2410)(void* p, NI op) {
	TY264164* a;
	a = (TY264164*)p;
	nimGCvisit((void*)(*a).retfuture262813, op);
	nimGCvisit((void*)(*a).lpoutputbuf262817, op);
	nimGCvisit((void*)(*a).newacceptfut264058, op);
}
N_NIMCALL(void, TMP2415)(void* p, NI op) {
	TY264167* a;
	a = (TY264167*)p;
	nimGCvisit((void*)(*a).newacceptfut263614, op);
	nimGCvisit((void*)(*a).HEX3Aup264176, op);
}

N_CLOSURE(void, HEX3Aanonymous_263615)(void* ClEnv) {
	TY264167* HEX3Aenvp_264173;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_264173 = (TY264167*) ClEnv;
	nimln(818, "asyncdispatch.nim");
	{
		FuturebaseHEX3Aobjecttype255017* LOC3;
		NIM_BOOL LOC4;
		Exception* LOC7;
		LOC3 = 0;
		LOC3 = &(*HEX3Aenvp_264173).newacceptfut263614->Sup;
		LOC4 = 0;
		LOC4 = failed_255914(LOC3);
		if (!LOC4) goto LA5;
		nimln(819, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = readerror_263618((*HEX3Aenvp_264173).newacceptfut263614);
		fail_263653((*(*HEX3Aenvp_264173).HEX3Aup264176).retfuture262813, LOC7);
	}
	goto LA1;
	LA5: ;
	{
		TY262749 LOC9;
		nimln(821, "asyncdispatch.nim");
		memset((void*)(&LOC9), 0, sizeof(LOC9));
		read_263681((*HEX3Aenvp_264173).newacceptfut263614, (&LOC9));
		complete_262866((*(*HEX3Aenvp_264173).HEX3Aup264176).retfuture262813, LOC9);
	}
	LA1: ;
	popFrame();
}

N_CLOSURE(void, HEX3Aanonymous_262843)(NI fd, NI32 bytescount, NI32 errcode, void* ClEnv) {
	TY264164* HEX3Aenvp_264179;
	TY264167* HEX3Aenv_264195;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_264179 = (TY264164*) ClEnv;
	HEX3Aenv_264195 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_264195 = (TY264167*) newObj((&NTI264196), sizeof(TY264167));
	nimln(829, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_264195).HEX3Aup264176), HEX3Aenvp_264179);
	{
		if (!!((*(*HEX3Aenvp_264179).retfuture262813).Sup.finished)) goto LA3;
		nimln(830, "asyncdispatch.nim");
		{
			NI listensock;
			int setoptret;
			SOCKADDR* localsockaddr;
			SOCKADDR* remotesockaddr;
			NI32 locallen;
			NI32 remotelen;
			TY262749 LOC14;
			NCSTRING LOC15;
			if (!(errcode == ((NI32) -1))) goto LA7;
			nimln(794, "asyncdispatch.nim");
			listensock = (*HEX3Aenvp_264179).socket262744;
			nimln(795, "asyncdispatch.nim");
			setoptret = Dl_105086((*HEX3Aenvp_264179).clientsock262814, SOL_SOCKET, ((int) 28683), ((void*) ((&listensock))), ((unsigned int) 8));
			nimln(798, "asyncdispatch.nim");
			{
				NI32 LOC13;
				if (!!((setoptret == ((NI32) 0)))) goto LA11;
				LOC13 = 0;
				LOC13 = oslasterror_140454();
				raiseoserror_140430(LOC13);
			}
			LA11: ;
			localsockaddr = 0;
			remotesockaddr = 0;
			locallen = 0;
			remotelen = 0;
			nimln(802, "asyncdispatch.nim");
			if ((NU)(((NI) 0)) > (NU)((*HEX3Aenvp_264179).lpoutputbuf262817->Sup.len)) raiseIndexError();
			getacceptexsockaddrs_259346(((void*) ((&(*HEX3Aenvp_264179).lpoutputbuf262817->data[((NI) 0)]))), (*HEX3Aenvp_264179).dwreceivedatalength262819, (*HEX3Aenvp_264179).dwlocaladdresslength262821, (*HEX3Aenvp_264179).dwremoteaddresslength262823, &localsockaddr, (&locallen), &remotesockaddr, (&remotelen));
			nimln(806, "asyncdispatch.nim");
			register_258252((*HEX3Aenvp_264179).clientsock262814);
			nimln(808, "asyncdispatch.nim");
			memset((void*)(&LOC14), 0, sizeof(LOC14));
			nimln(809, "asyncdispatch.nim");
			LOC15 = 0;
			LOC15 = Dl_105262((*((SOCKADDR_IN*) (remotesockaddr))).sin_addr);
			LOC14.Field0 = cstrToNimstr(LOC15);
			LOC14.Field1 = (*HEX3Aenvp_264179).clientsock262814;
			complete_262866((*HEX3Aenvp_264179).retfuture262813, LOC14);
		}
		goto LA5;
		LA7: ;
		{
			nimln(814, "asyncdispatch.nim");
			{
				NIM_BOOL LOC19;
				FuturebaseHEX3Aobjecttype255017* LOC22;
				TY255018 LOC23;
				LOC19 = 0;
				LOC19 = isdisconnectionerror_239481((*HEX3Aenvp_264179).flags262747, errcode);
				if (!LOC19) goto LA20;
				nimln(815, "asyncdispatch.nim");
				asgnRef((void**) (&(*HEX3Aenv_264195).newacceptfut263614), acceptaddr_262742((*HEX3Aenvp_264179).socket262744, (*HEX3Aenvp_264179).flags262747));
				nimln(816, "asyncdispatch.nim");
				LOC22 = 0;
				LOC22 = &(*HEX3Aenv_264195).newacceptfut263614->Sup;
				memset((void*)(&LOC23), 0, sizeof(LOC23));
				LOC23.ClPrc = HEX3Aanonymous_263615; LOC23.ClEnv = HEX3Aenv_264195;
				callbackHEX3D_255832(LOC22, LOC23);
			}
			goto LA17;
			LA20: ;
			{
				Oserror3433* e_264026;
				Exception* LOC25;
				nimln(823, "asyncdispatch.nim");
				e_264026 = 0;
				nimln(2265, "system.nim");
				e_264026 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_264026).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_264026).Sup.Sup.message), oserrormsg_140020(errcode));
				LOC25 = 0;
				LOC25 = &e_264026->Sup.Sup;
				fail_263653((*HEX3Aenvp_264179).retfuture262813, LOC25);
			}
			LA17: ;
		}
		LA5: ;
	}
	LA3: ;
	popFrame();
}

N_CLOSURE(void, HEX3Aanonymous_264059)(void* ClEnv) {
	TY264164* HEX3Aenvp_264192;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_264192 = (TY264164*) ClEnv;
	nimln(818, "asyncdispatch.nim");
	{
		FuturebaseHEX3Aobjecttype255017* LOC3;
		NIM_BOOL LOC4;
		Exception* LOC7;
		LOC3 = 0;
		LOC3 = &(*HEX3Aenvp_264192).newacceptfut264058->Sup;
		LOC4 = 0;
		LOC4 = failed_255914(LOC3);
		if (!LOC4) goto LA5;
		nimln(819, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = readerror_263618((*HEX3Aenvp_264192).newacceptfut264058);
		fail_263653((*HEX3Aenvp_264192).retfuture262813, LOC7);
	}
	goto LA1;
	LA5: ;
	{
		TY262749 LOC9;
		nimln(821, "asyncdispatch.nim");
		memset((void*)(&LOC9), 0, sizeof(LOC9));
		read_263681((*HEX3Aenvp_264192).newacceptfut264058, (&LOC9));
		complete_262866((*HEX3Aenvp_264192).retfuture262813, LOC9);
	}
	LA1: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype262756*, acceptaddr_262742)(NI socket, NU8 flags) {
	FutureHEX3Aobjecttype262756* result;
	TY264164* HEX3Aenv_264197;
	NI32 dwbytesreceived;
	NI TMP2412;
	NI TMP2413;
	Tcustomoverlapped258008* ol;
	Tcustomoverlapped258008* LOC6;
	Tcompletiondata258004 LOC7;
	TY258014 LOC8;
	NIM_BOOL ret;
	nimfr("acceptAddr", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_264197 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_264197 = (TY264164*) newObj((&NTI264198), sizeof(TY264164));
	nimln(769, "asyncdispatch.nim");
	(*HEX3Aenv_264197).socket262744 = socket;
	(*HEX3Aenv_264197).flags262747 = flags;
	nimln(780, "asyncdispatch.nim");
	verifypresence_258607((*HEX3Aenv_264197).socket262744);
	nimln(781, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_264197).retfuture262813), newfuture_262764(((NimStringDesc*) &TMP2411)));
	nimln(783, "asyncdispatch.nim");
	(*HEX3Aenv_264197).clientsock262814 = newrawsocket_235004(((NU8) 2), ((NU8) 1), ((NU8) 6));
	nimln(784, "asyncdispatch.nim");
	{
		NI32 LOC5;
		if (!((*HEX3Aenv_264197).clientsock262814 == osinvalidsocket_234650)) goto LA3;
		LOC5 = 0;
		LOC5 = oslasterror_140454();
		raiseoserror_140430(LOC5);
	}
	LA3: ;
	nimln(787, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*HEX3Aenv_264197).lpoutputbuf262817), mnewString(((NI) 1024)));
	dwbytesreceived = 0;
	nimln(789, "asyncdispatch.nim");
	(*HEX3Aenv_264197).dwreceivedatalength262819 = ((NI32) 0);
	nimln(790, "asyncdispatch.nim");
	TMP2412 = addInt(((NI)sizeof(SOCKADDR_IN)), ((NI) 16));
	(*HEX3Aenv_264197).dwlocaladdresslength262821 = ((NI32)chckRange((NI)(TMP2412), ((NI32) (-2147483647 -1)), ((NI32) 2147483647)));
	nimln(791, "asyncdispatch.nim");
	TMP2413 = addInt(((NI)sizeof(SOCKADDR_IN)), ((NI) 16));
	(*HEX3Aenv_264197).dwremoteaddresslength262823 = ((NI32)chckRange((NI)(TMP2413), ((NI32) (-2147483647 -1)), ((NI32) 2147483647)));
	nimln(825, "asyncdispatch.nim");
	LOC6 = 0;
	LOC6 = (Tcustomoverlapped258008*) newObj((&NTI258010), sizeof(Tcustomoverlapped258008));
	ol = LOC6;
	nimln(826, "asyncdispatch.nim");
	nimGCref(ol);
	nimln(827, "asyncdispatch.nim");
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	LOC7.fd = (*HEX3Aenv_264197).socket262744;
	memset((void*)(&LOC8), 0, sizeof(LOC8));
	LOC8.ClPrc = HEX3Aanonymous_262843; LOC8.ClEnv = HEX3Aenv_264197;
	LOC7.cb.ClEnv = LOC8.ClEnv;
	LOC7.cb.ClPrc = LOC8.ClPrc;
	(*ol).data.fd = LOC7.fd;
	asgnRef((void**) (&(*ol).data.cb.ClEnv), LOC7.cb.ClEnv);
	(*ol).data.cb.ClPrc = LOC7.cb.ClPrc;
	nimln(837, "asyncdispatch.nim");
	if ((NU)(((NI) 0)) > (NU)((*HEX3Aenv_264197).lpoutputbuf262817->Sup.len)) raiseIndexError();
	ret = acceptex_259302((*HEX3Aenv_264197).socket262744, (*HEX3Aenv_264197).clientsock262814, ((void*) ((&(*HEX3Aenv_264197).lpoutputbuf262817->data[((NI) 0)]))), (*HEX3Aenv_264197).dwreceivedatalength262819, (*HEX3Aenv_264197).dwlocaladdresslength262821, (*HEX3Aenv_264197).dwremoteaddresslength262823, (&dwbytesreceived), ((Toverlapped105608*) (ol)));
	nimln(843, "asyncdispatch.nim");
	{
		NI32 err;
		if (!!(ret)) goto LA11;
		nimln(844, "asyncdispatch.nim");
		err = oslasterror_140454();
		nimln(845, "asyncdispatch.nim");
		{
			if (!!((err == ((NI32) 997)))) goto LA15;
			nimln(814, "asyncdispatch.nim");
			{
				NIM_BOOL LOC19;
				FuturebaseHEX3Aobjecttype255017* LOC22;
				TY255018 LOC23;
				LOC19 = 0;
				LOC19 = isdisconnectionerror_239481((*HEX3Aenv_264197).flags262747, err);
				if (!LOC19) goto LA20;
				nimln(815, "asyncdispatch.nim");
				asgnRef((void**) (&(*HEX3Aenv_264197).newacceptfut264058), acceptaddr_262742((*HEX3Aenv_264197).socket262744, (*HEX3Aenv_264197).flags262747));
				nimln(816, "asyncdispatch.nim");
				LOC22 = 0;
				LOC22 = &(*HEX3Aenv_264197).newacceptfut264058->Sup;
				memset((void*)(&LOC23), 0, sizeof(LOC23));
				LOC23.ClPrc = HEX3Aanonymous_264059; LOC23.ClEnv = HEX3Aenv_264197;
				callbackHEX3D_255832(LOC22, LOC23);
			}
			goto LA17;
			LA20: ;
			{
				Oserror3433* e_264096;
				Exception* LOC25;
				nimln(823, "asyncdispatch.nim");
				e_264096 = 0;
				nimln(2265, "system.nim");
				e_264096 = (Oserror3433*) newObj((&NTI130222), sizeof(Oserror3433));
				(*e_264096).Sup.Sup.Sup.m_type = (&NTI3433);
				nimln(2266, "system.nim");
				asgnRefNoCycle((void**) (&(*e_264096).Sup.Sup.message), oserrormsg_140020(err));
				LOC25 = 0;
				LOC25 = &e_264096->Sup.Sup;
				fail_263653((*HEX3Aenv_264197).retfuture262813, LOC25);
			}
			LA17: ;
			nimln(847, "asyncdispatch.nim");
			nimGCunref(ol);
		}
		LA15: ;
	}
	goto LA9;
	LA11: ;
	{
		NI listensock;
		int setoptret;
		SOCKADDR* localsockaddr;
		SOCKADDR* remotesockaddr;
		NI32 locallen;
		NI32 remotelen;
		TY262749 LOC32;
		NCSTRING LOC33;
		nimln(794, "asyncdispatch.nim");
		listensock = (*HEX3Aenv_264197).socket262744;
		nimln(795, "asyncdispatch.nim");
		setoptret = Dl_105086((*HEX3Aenv_264197).clientsock262814, SOL_SOCKET, ((int) 28683), ((void*) ((&listensock))), ((unsigned int) 8));
		nimln(798, "asyncdispatch.nim");
		{
			NI32 LOC31;
			if (!!((setoptret == ((NI32) 0)))) goto LA29;
			LOC31 = 0;
			LOC31 = oslasterror_140454();
			raiseoserror_140430(LOC31);
		}
		LA29: ;
		localsockaddr = 0;
		remotesockaddr = 0;
		locallen = 0;
		remotelen = 0;
		nimln(802, "asyncdispatch.nim");
		if ((NU)(((NI) 0)) > (NU)((*HEX3Aenv_264197).lpoutputbuf262817->Sup.len)) raiseIndexError();
		getacceptexsockaddrs_259346(((void*) ((&(*HEX3Aenv_264197).lpoutputbuf262817->data[((NI) 0)]))), (*HEX3Aenv_264197).dwreceivedatalength262819, (*HEX3Aenv_264197).dwlocaladdresslength262821, (*HEX3Aenv_264197).dwremoteaddresslength262823, &localsockaddr, (&locallen), &remotesockaddr, (&remotelen));
		nimln(806, "asyncdispatch.nim");
		register_258252((*HEX3Aenv_264197).clientsock262814);
		nimln(808, "asyncdispatch.nim");
		memset((void*)(&LOC32), 0, sizeof(LOC32));
		nimln(809, "asyncdispatch.nim");
		LOC33 = 0;
		LOC33 = Dl_105262((*((SOCKADDR_IN*) (remotesockaddr))).sin_addr);
		LOC32.Field0 = cstrToNimstr(LOC33);
		LOC32.Field1 = (*HEX3Aenv_264197).clientsock262814;
		complete_262866((*HEX3Aenv_264197).retfuture262813, LOC32);
	}
	LA9: ;
	nimln(854, "asyncdispatch.nim");
	result = (*HEX3Aenv_264197).retfuture262813;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(NI, newasyncrawsocket_264199)(int domain, int typ, int protocol) {
	NI result;
	nimfr("newAsyncRawSocket", "asyncdispatch.nim")
	result = 0;
	nimln(858, "asyncdispatch.nim");
	result = newrawsocket_235016(domain, typ, protocol);
	nimln(859, "asyncdispatch.nim");
	setblocking_237453(result, NIM_FALSE);
	nimln(860, "asyncdispatch.nim");
	register_258252(result);
	popFrame();
	return result;
}

N_NIMCALL(NI, newasyncrawsocket_264210)(NU8 domain, NU8 typ, NU8 protocol) {
	NI result;
	nimfr("newAsyncRawSocket", "asyncdispatch.nim")
	result = 0;
	nimln(866, "asyncdispatch.nim");
	result = newrawsocket_235004(domain, typ, protocol);
	nimln(867, "asyncdispatch.nim");
	setblocking_237453(result, NIM_FALSE);
	nimln(868, "asyncdispatch.nim");
	register_258252(result);
	popFrame();
	return result;
}

N_NIMCALL(void, closesocket_264221)(NI socket) {
	PdispatcherHEX3Aobjecttype258020* LOC1;
	nimfr("closeSocket", "asyncdispatch.nim")
	nimln(872, "asyncdispatch.nim");
	close_235028(socket);
	nimln(873, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = getglobaldispatcher_258238();
	excl_264225((&(*LOC1).handles), socket);
	popFrame();
}

N_NIMCALL(void, unregister_264451)(NI fd) {
	PdispatcherHEX3Aobjecttype258020* LOC1;
	nimfr("unregister", "asyncdispatch.nim")
	nimln(877, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = getglobaldispatcher_258238();
	excl_264225((&(*LOC1).handles), fd);
	popFrame();
}

static N_INLINE(NF, HEX2F_87999)(NI x, NI y) {
	NF result;
	nimfr("/", "system.nim")
	result = 0;
	nimln(2856, "system.nim");
	result = ((NF)(((double) (x))) / (NF)(((double) (y))));
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype255097*, sleepasync_264618)(NI ms) {
	FutureHEX3Aobjecttype255097* result;
	FutureHEX3Aobjecttype255097* retfuture;
	PdispatcherHEX3Aobjecttype258020* p;
	TY255995 LOC1;
	NF LOC2;
	NF LOC3;
	nimfr("sleepAsync", "asyncdispatch.nim")
{	result = 0;
	nimln(1158, "asyncdispatch.nim");
	retfuture = newfuture_259407(((NimStringDesc*) &TMP2416));
	nimln(1159, "asyncdispatch.nim");
	p = getglobaldispatcher_258238();
	nimln(1160, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC2 = 0;
	LOC2 = ntepochTime();
	LOC3 = 0;
	LOC3 = HEX2F_87999(ms, ((NI) 1000));
	LOC1.Field0 = ((NF)(LOC2) + (NF)(LOC3));
	LOC1.Field1 = retfuture;
	(*p).Sup.timers = (TY255994*) incrSeq(&((*p).Sup.timers)->Sup, sizeof(TY255995));
	(*p).Sup.timers->data[(*p).Sup.timers->Sup.len-1].Field0 = LOC1.Field0;
	asgnRef((void**) (&(*p).Sup.timers->data[(*p).Sup.timers->Sup.len-1].Field1), LOC1.Field1);
	nimln(1161, "asyncdispatch.nim");
	result = retfuture;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2417)(void* p, NI op) {
	FutureHEX3Aobjecttype264663* a;
	a = (FutureHEX3Aobjecttype264663*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
}

N_NIMCALL(FutureHEX3Aobjecttype264663*, newfuture_264668)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype264663* result;
	NimStringDesc* LOC1;
	NI TMP2418;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype264663*) newObj((&NTI264662), sizeof(FutureHEX3Aobjecttype264663));
	(*result).Sup.Sup.m_type = (&NTI264663);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2418 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2418);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_265011)(FutureHEX3Aobjecttype264663* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_265002)(FutureHEX3Aobjecttype264663* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_265011(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2419)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, complete_265625)(FutureHEX3Aobjecttype264663* future, NI val) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_265011(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	(*future).value = val;
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2420)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP2423)(void* p, NI op) {
	TY265830* a;
	a = (TY265830*)p;
	nimGCvisit((void*)(*a).cb265827.ClEnv, op);
	nimGCvisit((void*)(*a).future265819, op);
}

N_CLOSURE(void, HEX3Aanonymous_265828)(void* ClEnv) {
	TY265830* HEX3Aenvp_265836;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_265836 = (TY265830*) ClEnv;
	nimln(231, "asyncdispatch.nim");
	(*HEX3Aenvp_265836).cb265827.ClEnv? (*HEX3Aenvp_265836).cb265827.ClPrc((*HEX3Aenvp_265836).future265819, (*HEX3Aenvp_265836).cb265827.ClEnv):((TMP2424)((*HEX3Aenvp_265836).cb265827.ClPrc))((*HEX3Aenvp_265836).future265819);
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_265814)(FutureHEX3Aobjecttype262756* future, TY265820 cb) {
	TY265830* HEX3Aenv_265840;
	FuturebaseHEX3Aobjecttype255017* LOC1;
	TY255018 LOC2;
	nimfr("callback=", "asyncdispatch.nim")
	HEX3Aenv_265840 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_265840 = (TY265830*) newObj((&NTI265841), sizeof(TY265830));
	nimln(228, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_265840).cb265827.ClEnv), cb.ClEnv);
	(*HEX3Aenv_265840).cb265827.ClPrc = cb.ClPrc;
	asgnRef((void**) (&(*HEX3Aenv_265840).future265819), future);
	nimln(231, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_265840).future265819->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_265828; LOC2.ClEnv = HEX3Aenv_265840;
	callbackHEX3D_255832(LOC1, LOC2);
	popFrame();
}
N_NIMCALL(void, TMP2426)(void* p, NI op) {
	TY265842* a;
	a = (TY265842*)p;
	nimGCvisit((void*)(*a).retfut264813, op);
}

N_CLOSURE(void, HEX3Aanonymous_264815)(FutureHEX3Aobjecttype262756* future, void* ClEnv) {
	TY265842* HEX3Aenvp_265848;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_265848 = (TY265842*) ClEnv;
	nimln(1172, "asyncdispatch.nim");
	{
		if (!!((*future).Sup.finished)) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2428));
	}
	LA3: ;
	nimln(1173, "asyncdispatch.nim");
	{
		FuturebaseHEX3Aobjecttype255017* LOC7;
		NIM_BOOL LOC8;
		LOC7 = 0;
		LOC7 = &future->Sup;
		LOC8 = 0;
		LOC8 = failed_255914(LOC7);
		if (!LOC8) goto LA9;
		nimln(1174, "asyncdispatch.nim");
		fail_265002((*HEX3Aenvp_265848).retfut264813, (*future).Sup.error);
	}
	goto LA5;
	LA9: ;
	{
		TY262749 LOC12;
		nimln(1176, "asyncdispatch.nim");
		memset((void*)(&LOC12), 0, sizeof(LOC12));
		read_263681(future, (&LOC12));
		complete_265625((*HEX3Aenvp_265848).retfut264813, LOC12.Field1);
	}
	LA5: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype264663*, accept_264652)(NI socket, NU8 flags) {
	FutureHEX3Aobjecttype264663* result;
	TY265842* HEX3Aenv_265851;
	FutureHEX3Aobjecttype262756* fut;
	TY265820 LOC1;
	nimfr("accept", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_265851 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_265851 = (TY265842*) newObj((&NTI265852), sizeof(TY265842));
	nimln(1168, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_265851).retfut264813), newfuture_264668(((NimStringDesc*) &TMP2427)));
	nimln(1169, "asyncdispatch.nim");
	fut = acceptaddr_262742(socket, flags);
	nimln(1170, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = HEX3Aanonymous_264815; LOC1.ClEnv = HEX3Aenv_265851;
	callbackHEX3D_265814(fut, LOC1);
	nimln(1177, "asyncdispatch.nim");
	result = (*HEX3Aenv_265851).retfut264813;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, echooriginalstacktrace_266643)(FutureHEX3Aobjecttype259769* future) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\015\012", ((NimStringDesc*) &TMP2362)? (((NimStringDesc*) &TMP2362))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil", ((NimStringDesc*) &TMP2363)? (((NimStringDesc*) &TMP2363))->data:"nil");
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.errorstacktrace? ((*future).Sup.errorstacktrace)->data:"nil");
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2364)? (((NimStringDesc*) &TMP2364))->data:"nil");
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	printf("%s\015\012", ((NimStringDesc*) &TMP2365)? (((NimStringDesc*) &TMP2365))->data:"nil");
	popFrame();
}

N_NIMCALL(NimStringDesc*, read_266623)(FutureHEX3Aobjecttype259769* future) {
	NimStringDesc* result;
	nimfr("read", "asyncdispatch.nim")
{	result = 0;
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_266643(future);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		result = copyString((*future).value);
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_267002;
		NimStringDesc* LOC10;
		e_267002 = 0;
		nimln(2265, "system.nim");
		e_267002 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_267002).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_267002).Sup.message; (*e_267002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2366));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_267002, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, finished_267237)(TY266613 x) {
	NIM_BOOL result;
	nimfr("finished", "system.nim")
	result = 0;
	nimln(2803, "system.nim");
	      result = *((NI*) x.ClEnv) < 0;
      
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2431)(void* p, NI op) {
	TY267410* a;
	a = (TY267410*)p;
	nimGCvisit((void*)(*a).retfuture266595, op);
	nimGCvisit((void*)(*a).nameitervar267231.ClEnv, op);
	nimGCvisit((void*)(*a).result266615, op);
	nimGCvisit((void*)(*a).c266621, op);
	nimGCvisit((void*)(*a).future266597, op);
	nimGCvisit((void*)(*a).future266598, op);
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
{	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (*a).Sup.len);
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((NCSTRING) ((*src).data)), (NI)((*src).Sup.len + ((NI) 1)));
	(*dest).Sup.len += (*src).Sup.len;
}

N_CLOSURE(FuturebaseHEX3Aobjecttype255017*, recvlineiter_266596)(void* ClEnv) {
	FuturebaseHEX3Aobjecttype255017* result_266614;
	TY267410* HEX3Aenvp_267416;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	nimfr("recvLineIter", "asyncdispatch.nim")
{	result_266614 = 0;
	HEX3Aenvp_267416 = (TY267410*) ClEnv;
	switch ((*HEX3Aenvp_267416).HEX3Astate) {
	case -1: goto BeforeRet;
	case 0: goto STATE0;
	case 1: goto STATE1;
	case 2: goto STATE2;
	}
	STATE0: ;
	nimln(1521, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*HEX3Aenvp_267416).result266615; (*HEX3Aenvp_267416).result266615 = copyStringRC1(((NimStringDesc*) &TMP2400));
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(1522, "asyncdispatch.nim");
	LOC2 = 0;
	LOC2 = (*HEX3Aenvp_267416).c266621; (*HEX3Aenvp_267416).c266621 = copyStringRC1(((NimStringDesc*) &TMP2400));
	if (LOC2) nimGCunrefNoCycle(LOC2);
	{
		nimln(1523, "asyncdispatch.nim");
		while (1) {
			nimln(1524, "asyncdispatch.nim");
			asgnRef((void**) (&(*HEX3Aenvp_267416).future266597), recv_259757((*HEX3Aenvp_267416).socket266601, ((NI) 1), 2));
			(*HEX3Aenvp_267416).HEX3Astate = ((NI) 1);
			nimln(1266, "asyncdispatch.nim");
			result_266614 = &(*HEX3Aenvp_267416).future266597->Sup;
			goto BeforeRet;
			STATE1: ;
			nimln(1524, "asyncdispatch.nim");
			asgnRefNoCycle((void**) (&(*HEX3Aenvp_267416).c266621), read_266623((*HEX3Aenvp_267416).future266597));
			nimln(1525, "asyncdispatch.nim");
			{
				if (!(((*HEX3Aenvp_267416).c266621 ? (*HEX3Aenvp_267416).c266621->Sup.len : 0) == ((NI) 0))) goto LA7;
				nimln(1526, "asyncdispatch.nim");
				complete_260031((*HEX3Aenvp_267416).retfuture266595, ((NimStringDesc*) &TMP2400));
				(*HEX3Aenvp_267416).HEX3Astate = ((NI) -1);
				result_266614 = NIM_NIL;
				goto BeforeRet;
			}
			LA7: ;
			nimln(1527, "asyncdispatch.nim");
			{
				if (!eqStrings((*HEX3Aenvp_267416).c266621, ((NimStringDesc*) &TMP2433))) goto LA11;
				nimln(1528, "asyncdispatch.nim");
				asgnRef((void**) (&(*HEX3Aenvp_267416).future266598), recv_259757((*HEX3Aenvp_267416).socket266601, ((NI) 1), 2));
				(*HEX3Aenvp_267416).HEX3Astate = ((NI) 2);
				nimln(1266, "asyncdispatch.nim");
				result_266614 = &(*HEX3Aenvp_267416).future266598->Sup;
				goto BeforeRet;
				STATE2: ;
				nimln(1528, "asyncdispatch.nim");
				asgnRefNoCycle((void**) (&(*HEX3Aenvp_267416).c266621), read_266623((*HEX3Aenvp_267416).future266598));
				nimln(1529, "asyncdispatch.nim");
				{
					if (!!(eqStrings((*HEX3Aenvp_267416).c266621, ((NimStringDesc*) &TMP2434)))) goto LA15;
					failedassertimpl_88817(((NimStringDesc*) &TMP2435));
				}
				LA15: ;
				nimln(1518, "asyncdispatch.nim");
				{
					if (!(((*HEX3Aenvp_267416).result266615 ? (*HEX3Aenvp_267416).result266615->Sup.len : 0) == ((NI) 0))) goto LA19;
					nimln(1519, "asyncdispatch.nim");
					(*HEX3Aenvp_267416).result266615 = resizeString((*HEX3Aenvp_267416).result266615, 2);
appendString((*HEX3Aenvp_267416).result266615, ((NimStringDesc*) &TMP2436));
				}
				LA19: ;
				nimln(1498, "asyncdispatch.nim");
				complete_260031((*HEX3Aenvp_267416).retfuture266595, (*HEX3Aenvp_267416).result266615);
				nimln(1531, "asyncdispatch.nim");
				(*HEX3Aenvp_267416).HEX3Astate = ((NI) -1);
				nimln(1498, "asyncdispatch.nim");
				result_266614 = NIM_NIL;
				goto BeforeRet;
			}
			goto LA9;
			LA11: ;
			{
				nimln(1532, "asyncdispatch.nim");
				if (!eqStrings((*HEX3Aenvp_267416).c266621, ((NimStringDesc*) &TMP2434))) goto LA22;
				nimln(1518, "asyncdispatch.nim");
				{
					if (!(((*HEX3Aenvp_267416).result266615 ? (*HEX3Aenvp_267416).result266615->Sup.len : 0) == ((NI) 0))) goto LA26;
					nimln(1519, "asyncdispatch.nim");
					(*HEX3Aenvp_267416).result266615 = resizeString((*HEX3Aenvp_267416).result266615, 2);
appendString((*HEX3Aenvp_267416).result266615, ((NimStringDesc*) &TMP2436));
				}
				LA26: ;
				nimln(1498, "asyncdispatch.nim");
				complete_260031((*HEX3Aenvp_267416).retfuture266595, (*HEX3Aenvp_267416).result266615);
				nimln(1534, "asyncdispatch.nim");
				(*HEX3Aenvp_267416).HEX3Astate = ((NI) -1);
				nimln(1498, "asyncdispatch.nim");
				result_266614 = NIM_NIL;
				goto BeforeRet;
			}
			goto LA9;
			LA22: ;
			LA9: ;
			nimln(1535, "asyncdispatch.nim");
			(*HEX3Aenvp_267416).result266615 = resizeString((*HEX3Aenvp_267416).result266615, (*HEX3Aenvp_267416).c266621->Sup.len + 0);
appendString((*HEX3Aenvp_267416).result266615, (*HEX3Aenvp_267416).c266621);
		}
	}
	complete_260031((*HEX3Aenvp_267416).retfuture266595, (*HEX3Aenvp_267416).result266615);
	nimln(1445, "asyncdispatch.nim");
	(*HEX3Aenvp_267416).HEX3Astate = ((NI) -1);
	}BeforeRet: ;
	popFrame();
	return result_266614;
}

static N_INLINE(void, pushSafePoint)(TSafePoint* s) {
	(*s).hasRaiseAction = NIM_FALSE;
	(*s).prev = exchandler_17043;
	exchandler_17043 = s;
}

static N_INLINE(void, popSafePoint)(void) {
	exchandler_17043 = (*exchandler_17043).prev;
}

static N_INLINE(void, setFrame)(TFrame* s) {
	frameptr_17042 = s;
}

static N_INLINE(Exception*, getCurrentException)(void) {
	Exception* result;
	nimfr("getCurrentException", "system.nim")
	result = 0;
	nimln(2726, "system.nim");
	result = currexception_17045;
	popFrame();
	return result;
}

static N_INLINE(void, popCurrentException)(void) {
	asgnRef((void**) (&currexception_17045), (*currexception_17045).parent);
}

N_CLOSURE(void, cb_267234)(void* ClEnv) {
	TY267410* HEX3Aenvp_267423;
	TSafePoint TMP2437;
	nimfr("cb", "asyncdispatch.nim")
	HEX3Aenvp_267423 = (TY267410*) ClEnv;
	nimln(1197, "asyncdispatch.nim");
	pushSafePoint(&TMP2437);
	TMP2437.status = setjmp(TMP2437.context);
	if (TMP2437.status == 0) {
		nimln(1198, "asyncdispatch.nim");
		{
			NIM_BOOL LOC4;
			FuturebaseHEX3Aobjecttype255017* next_267233;
			LOC4 = 0;
			LOC4 = finished_267237((*HEX3Aenvp_267423).nameitervar267231);
			if (!!(LOC4)) goto LA5;
			nimln(1199, "asyncdispatch.nim");
			next_267233 = (*HEX3Aenvp_267423).nameitervar267231.ClPrc((*HEX3Aenvp_267423).nameitervar267231.ClEnv);
			nimln(1200, "asyncdispatch.nim");
			{
				if (!(next_267233 == NIM_NIL)) goto LA9;
				nimln(1201, "asyncdispatch.nim");
				{
					if (!!((*(*HEX3Aenvp_267423).retfuture266595).Sup.finished)) goto LA13;
					failedassertimpl_88817(((NimStringDesc*) &TMP2439));
				}
				LA13: ;
			}
			goto LA7;
			LA9: ;
			{
				TY255018 LOC16;
				nimln(1204, "asyncdispatch.nim");
				memset((void*)(&LOC16), 0, sizeof(LOC16));
				LOC16.ClPrc = cb_267234; LOC16.ClEnv = HEX3Aenvp_267423;
				callbackHEX3D_255832(next_267233, LOC16);
			}
			LA7: ;
		}
		LA5: ;
		popSafePoint();
	}
	else {
		popSafePoint();
		setFrame((TFrame*)&FR);
		{
			TMP2437.status = 0;
			nimln(1206, "asyncdispatch.nim");
			{
				if (!(*(*HEX3Aenvp_267423).retfuture266595).Sup.finished) goto LA21;
				nimln(1209, "asyncdispatch.nim");
				reraiseException();
			}
			goto LA19;
			LA21: ;
			{
				Exception* LOC24;
				nimln(1211, "asyncdispatch.nim");
				LOC24 = 0;
				LOC24 = getCurrentException();
				fail_261034((*HEX3Aenvp_267423).retfuture266595, LOC24);
			}
			LA19: ;
			popCurrentException();
		}
	}
	if (TMP2437.status != 0) reraiseException();
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype259769*, recvline_266599)(NI socket) {
	FutureHEX3Aobjecttype259769* result;
	TY267410* HEX3Aenv_267426;
	TY266613 LOC1;
	TY255018 LOC2;
	nimfr("recvLine", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_267426 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_267426 = (TY267410*) newObj((&NTI267417), sizeof(TY267410));
	nimln(1499, "asyncdispatch.nim");
	(*HEX3Aenv_267426).socket266601 = socket;
	nimln(1498, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_267426).retfuture266595), newfuture_259802(((NimStringDesc*) &TMP2432)));
	nimln(1194, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = recvlineiter_266596; LOC1.ClEnv = HEX3Aenv_267426;
	asgnRef((void**) (&(*HEX3Aenv_267426).nameitervar267231.ClEnv), LOC1.ClEnv);
	(*HEX3Aenv_267426).nameitervar267231.ClPrc = LOC1.ClPrc;
	nimln(1212, "asyncdispatch.nim");
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = cb_267234; LOC2.ClEnv = HEX3Aenv_267426;
	LOC2.ClEnv? LOC2.ClPrc(LOC2.ClEnv):((TMP2440)(LOC2.ClPrc))();
	nimln(1535, "asyncdispatch.nim");
	nimln(1427, "asyncdispatch.nim");
	result = (*HEX3Aenv_267426).retfuture266595;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, runforever_267439)(void) {
	nimfr("runForever", "asyncdispatch.nim")
	{
		nimln(1539, "asyncdispatch.nim");
		while (1) {
			nimln(1540, "asyncdispatch.nim");
			poll_258836(((NI) 500));
		}
	}
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_268643)(FutureHEX3Aobjecttype255097* future) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\015\012", ((NimStringDesc*) &TMP2362)? (((NimStringDesc*) &TMP2362))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil", ((NimStringDesc*) &TMP2363)? (((NimStringDesc*) &TMP2363))->data:"nil");
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.errorstacktrace? ((*future).Sup.errorstacktrace)->data:"nil");
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2364)? (((NimStringDesc*) &TMP2364))->data:"nil");
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	printf("%s\015\012", ((NimStringDesc*) &TMP2365)? (((NimStringDesc*) &TMP2365))->data:"nil");
	popFrame();
}

N_NIMCALL(void, read_268624)(FutureHEX3Aobjecttype255097* future) {
	nimfr("read", "asyncdispatch.nim")
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_268643(future);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_269002;
		NimStringDesc* LOC10;
		e_269002 = 0;
		nimln(2265, "system.nim");
		e_269002 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_269002).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_269002).Sup.message; (*e_269002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2366));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_269002, "ValueError");
	}
	LA1: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_269622)(FutureHEX3Aobjecttype261249* future) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\015\012", ((NimStringDesc*) &TMP2362)? (((NimStringDesc*) &TMP2362))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil", ((NimStringDesc*) &TMP2363)? (((NimStringDesc*) &TMP2363))->data:"nil");
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.errorstacktrace? ((*future).Sup.errorstacktrace)->data:"nil");
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2364)? (((NimStringDesc*) &TMP2364))->data:"nil");
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	printf("%s\015\012", ((NimStringDesc*) &TMP2365)? (((NimStringDesc*) &TMP2365))->data:"nil");
	popFrame();
}

N_NIMCALL(NI, read_269602)(FutureHEX3Aobjecttype261249* future) {
	NI result;
	nimfr("read", "asyncdispatch.nim")
{	result = 0;
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_269622(future);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		result = (*future).value;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_270002;
		NimStringDesc* LOC10;
		e_270002 = 0;
		nimln(2265, "system.nim");
		e_270002 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_270002).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_270002).Sup.message; (*e_270002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2366));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_270002, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP2478)(void* p, NI op) {
	FutureHEX3Aobjecttype271248* a;
	a = (FutureHEX3Aobjecttype271248*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value.Field0, op);
	nimGCvisit((void*)(*a).value.Field1, op);
}

N_NIMCALL(FutureHEX3Aobjecttype271248*, newfuture_271256)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype271248* result;
	NimStringDesc* LOC1;
	NI TMP2479;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype271248*) newObj((&NTI271247), sizeof(FutureHEX3Aobjecttype271248));
	(*result).Sup.Sup.m_type = (&NTI271248);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2479 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2479);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, finished_271424)(FutureHEX3Aobjecttype262756* future) {
	NIM_BOOL result;
	nimfr("finished", "asyncdispatch.nim")
	result = 0;
	nimln(268, "asyncdispatch.nim");
	result = (*future).Sup.finished;
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_271619)(FutureHEX3Aobjecttype271248* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_271610)(FutureHEX3Aobjecttype271248* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_271619(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2480)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, complete_272235)(FutureHEX3Aobjecttype271248* future, TY271241 val) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_271619(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value.Field0; (*future).value.Field0 = copyStringRC1(val.Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	asgnRefNoCycle((void**) (&(*future).value.Field1), val.Field1);
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA8;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2481)((*future).Sup.cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}
N_NIMCALL(void, TMP2486)(void* p, NI op) {
	FutureHEX3Aobjecttype272455* a;
	a = (FutureHEX3Aobjecttype272455*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value, op);
}

N_NIMCALL(FutureHEX3Aobjecttype272455*, newfuture_272460)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype272455* result;
	NimStringDesc* LOC1;
	NI TMP2487;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype272455*) newObj((&NTI272454), sizeof(FutureHEX3Aobjecttype272455));
	(*result).Sup.Sup.m_type = (&NTI272455);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2487 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2487);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, finished_272624)(FutureHEX3Aobjecttype271248* future) {
	NIM_BOOL result;
	nimfr("finished", "asyncdispatch.nim")
	result = 0;
	nimln(268, "asyncdispatch.nim");
	result = (*future).Sup.finished;
	popFrame();
	return result;
}

N_NIMCALL(Exception*, readerror_272802)(FutureHEX3Aobjecttype271248* future) {
	Exception* result;
	nimfr("readError", "asyncdispatch.nim")
{	result = 0;
	nimln(263, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		result = (*future).Sup.error;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_272822;
		NimStringDesc* LOC6;
		e_272822 = 0;
		nimln(2265, "system.nim");
		e_272822 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_272822).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_272822).Sup.message; (*e_272822).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2360));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(265, "asyncdispatch.nim");
		raiseException((Exception*)e_272822, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_272846)(FutureHEX3Aobjecttype272455* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_272837)(FutureHEX3Aobjecttype272455* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_272846(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2488)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_273437)(FutureHEX3Aobjecttype271248* future) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\015\012", ((NimStringDesc*) &TMP2362)? (((NimStringDesc*) &TMP2362))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil", ((NimStringDesc*) &TMP2363)? (((NimStringDesc*) &TMP2363))->data:"nil");
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.errorstacktrace? ((*future).Sup.errorstacktrace)->data:"nil");
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2364)? (((NimStringDesc*) &TMP2364))->data:"nil");
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	printf("%s\015\012", ((NimStringDesc*) &TMP2365)? (((NimStringDesc*) &TMP2365))->data:"nil");
	popFrame();
}

N_NIMCALL(void, read_273417)(FutureHEX3Aobjecttype271248* future, TY271241* Result) {
	nimfr("read", "asyncdispatch.nim")
{	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_273437(future);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future).value.Field0));
		unsureAsgnRef((void**) (&(*Result).Field1), (*future).value.Field1);
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_273802;
		NimStringDesc* LOC10;
		e_273802 = 0;
		nimln(2265, "system.nim");
		e_273802 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_273802).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_273802).Sup.message; (*e_273802).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2366));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_273802, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
}

N_NIMCALL(void, complete_273817)(FutureHEX3Aobjecttype272455* future, Asyncsocketdesc268202* val) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_272846(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*future).value), val);
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2489)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP2492)(void* p, NI op) {
	TY274030* a;
	a = (TY274030*)p;
	nimGCvisit((void*)(*a).cb274027.ClEnv, op);
	nimGCvisit((void*)(*a).future274019, op);
}

N_CLOSURE(void, HEX3Aanonymous_274028)(void* ClEnv) {
	TY274030* HEX3Aenvp_274036;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_274036 = (TY274030*) ClEnv;
	nimln(231, "asyncdispatch.nim");
	(*HEX3Aenvp_274036).cb274027.ClEnv? (*HEX3Aenvp_274036).cb274027.ClPrc((*HEX3Aenvp_274036).future274019, (*HEX3Aenvp_274036).cb274027.ClEnv):((TMP2493)((*HEX3Aenvp_274036).cb274027.ClPrc))((*HEX3Aenvp_274036).future274019);
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_274014)(FutureHEX3Aobjecttype271248* future, TY274020 cb) {
	TY274030* HEX3Aenv_274040;
	FuturebaseHEX3Aobjecttype255017* LOC1;
	TY255018 LOC2;
	nimfr("callback=", "asyncdispatch.nim")
	HEX3Aenv_274040 = 0;
	nimln(180, "system.nim");
	HEX3Aenv_274040 = (TY274030*) newObj((&NTI274041), sizeof(TY274030));
	nimln(228, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_274040).cb274027.ClEnv), cb.ClEnv);
	(*HEX3Aenv_274040).cb274027.ClPrc = cb.ClPrc;
	asgnRef((void**) (&(*HEX3Aenv_274040).future274019), future);
	nimln(231, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_274040).future274019->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_274028; LOC2.ClEnv = HEX3Aenv_274040;
	callbackHEX3D_255832(LOC1, LOC2);
	popFrame();
}
N_NIMCALL(void, TMP2702)(void* p, NI op) {
	FutureHEX3Aobjecttype279252* a;
	a = (FutureHEX3Aobjecttype279252*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value.Field0, op);
	nimGCvisit((void*)(*a).value.Field1, op);
	nimGCvisit((void*)(*a).value.Field2, op);
	nimGCvisit((void*)(*a).value.Field3, op);
}

N_NIMCALL(FutureHEX3Aobjecttype279252*, newfuture_279257)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype279252* result;
	NimStringDesc* LOC1;
	NI TMP2703;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype279252*) newObj((&NTI279251), sizeof(FutureHEX3Aobjecttype279252));
	(*result).Sup.Sup.m_type = (&NTI279252);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_16601());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.id = currentid_255044;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	TMP2703 = addInt(currentid_255044, ((NI) 1));
	currentid_255044 = (NI)(TMP2703);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_279526)(FutureHEX3Aobjecttype279252* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future).Sup.finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future).Sup.id);
		printf("%s%s%s%s\015\012", ((NimStringDesc*) &TMP2303)? (((NimStringDesc*) &TMP2303))->data:"nil", LOC5? (LOC5)->data:"nil", ((NimStringDesc*) &TMP2304)? (((NimStringDesc*) &TMP2304))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil");
		nimln(169, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.stacktrace? ((*future).Sup.stacktrace)->data:"nil");
		nimln(170, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2305)? (((NimStringDesc*) &TMP2305))->data:"nil");
		nimln(173, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2306)? (((NimStringDesc*) &TMP2306))->data:"nil");
		nimln(174, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2307)? (((NimStringDesc*) &TMP2307))->data:"nil");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16601();
		printf("%s\015\012", LOC6? (LOC6)->data:"nil");
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			failedassertimpl_88817(((NimStringDesc*) &TMP2308));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_279517)(FutureHEX3Aobjecttype279252* future, Response277008* val) {
	NimStringDesc* LOC5;
	NimStringDesc* LOC6;
	NimStringDesc* LOC7;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_279526(future);
	nimln(182, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_88817(((NimStringDesc*) &TMP2309));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value.Field0; (*future).value.Field0 = copyStringRC1((*val).Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	LOC6 = 0;
	LOC6 = (*future).value.Field1; (*future).value.Field1 = copyStringRC1((*val).Field1);
	if (LOC6) nimGCunrefNoCycle(LOC6);
	asgnRef((void**) (&(*future).value.Field2), (*val).Field2);
	LOC7 = 0;
	LOC7 = (*future).value.Field3; (*future).value.Field3 = copyStringRC1((*val).Field3);
	if (LOC7) nimGCunrefNoCycle(LOC7);
	nimln(184, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA10;
		nimln(186, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2704)((*future).Sup.cb.ClPrc))();
	}
	LA10: ;
	popFrame();
}

N_NIMCALL(void, fail_280402)(FutureHEX3Aobjecttype279252* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_279526(future);
	nimln(201, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_16603(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16601());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_16603(error));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.cb.ClPrc == TMP2310.ClPrc && (*future).Sup.cb.ClEnv == TMP2310.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP2705)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_280909)(FutureHEX3Aobjecttype279252* future) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\015\012", ((NimStringDesc*) &TMP2362)? (((NimStringDesc*) &TMP2362))->data:"nil", (*future).Sup.fromproc? ((*future).Sup.fromproc)->data:"nil", ((NimStringDesc*) &TMP2363)? (((NimStringDesc*) &TMP2363))->data:"nil");
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		printf("%s\015\012", (*future).Sup.errorstacktrace? ((*future).Sup.errorstacktrace)->data:"nil");
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		printf("%s\015\012", ((NimStringDesc*) &TMP2364)? (((NimStringDesc*) &TMP2364))->data:"nil");
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	printf("%s\015\012", ((NimStringDesc*) &TMP2365)? (((NimStringDesc*) &TMP2365))->data:"nil");
	popFrame();
}

N_NIMCALL(void, read_280889)(FutureHEX3Aobjecttype279252* future, Response277008* Result) {
	nimfr("read", "asyncdispatch.nim")
{	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_280909(future);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future).value.Field0));
		unsureAsgnRef((void**) (&(*Result).Field1), copyString((*future).value.Field1));
		unsureAsgnRef((void**) (&(*Result).Field2), (*future).value.Field2);
		unsureAsgnRef((void**) (&(*Result).Field3), copyString((*future).value.Field3));
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3449* e_281202;
		NimStringDesc* LOC10;
		e_281202 = 0;
		nimln(2265, "system.nim");
		e_281202 = (Valueerror3449*) newObj((&NTI22801), sizeof(Valueerror3449));
		(*e_281202).Sup.Sup.m_type = (&NTI3449);
		nimln(2266, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_281202).Sup.message; (*e_281202).Sup.message = copyStringRC1(((NimStringDesc*) &TMP2366));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_281202, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
}
NIM_EXTERNC N_NOINLINE(void, stdlib_asyncdispatchInit)(void) {
	nimfr("asyncdispatch", "asyncdispatch.nim")
	nimln(151, "asyncdispatch.nim");
	currentid_255044 = ((NI) 0);
	nimln(418, "asyncdispatch.nim");
	connectexptr_259219 = NIM_NIL;
	nimln(419, "asyncdispatch.nim");
	acceptexptr_259220 = NIM_NIL;
	nimln(420, "asyncdispatch.nim");
	getacceptexsockaddrsptr_259221 = NIM_NIL;
	nimln(879, "asyncdispatch.nim");
	initall_259244();
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, stdlib_asyncdispatchDatInit)(void) {
static TNimNode* TMP2313[2];
static TNimNode* TMP2314[7];
static TNimNode* TMP2315[2];
static TNimNode* TMP2356[2];
static TNimNode* TMP2369[2];
static TNimNode* TMP2380[2];
static TNimNode* TMP2383[2];
static TNimNode* TMP2385[2];
static TNimNode* TMP2388[2];
static TNimNode* TMP2389[2];
static TNimNode* TMP2391[5];
static TNimNode* TMP2403[4];
static TNimNode* TMP2406[3];
static TNimNode* TMP2409[10];
static TNimNode* TMP2414[3];
static TNimNode* TMP2421[3];
static TNimNode* TMP2422[2];
static TNimNode* TMP2425[2];
static TNimNode* TMP2429[8];
static TNimNode* TMP2430[2];
static TNimNode* TMP2490[3];
static TNimNode* TMP2491[2];
static TNimNode TMP2283[106];
NTI255995.size = sizeof(TY255995);
NTI255995.kind = 18;
NTI255995.base = 0;
TMP2313[0] = &TMP2283[1];
TMP2283[1].kind = 1;
TMP2283[1].offset = offsetof(TY255995, Field0);
TMP2283[1].typ = (&NTI128);
TMP2283[1].name = "Field0";
TMP2313[1] = &TMP2283[2];
NTI255017.size = sizeof(FuturebaseHEX3Aobjecttype255017);
NTI255017.kind = 17;
NTI255017.base = (&NTI3411);
TMP2314[0] = &TMP2283[4];
NTI255018.size = sizeof(TY256243);
NTI255018.kind = 18;
NTI255018.base = 0;
NTI255018.flags = 2;
TMP2315[0] = &TMP2283[6];
TMP2283[6].kind = 1;
TMP2283[6].offset = offsetof(TY256243, Field0);
TMP2283[6].typ = (&NTI153);
TMP2283[6].name = "Field0";
TMP2315[1] = &TMP2283[7];
NTI256246.size = sizeof(TY256246);
NTI256246.kind = 18;
NTI256246.base = 0;
NTI256246.flags = 3;
TMP2283[8].len = 0; TMP2283[8].kind = 2;
NTI256246.node = &TMP2283[8];
NTI256245.size = sizeof(TY256246*);
NTI256245.kind = 22;
NTI256245.base = (&NTI256246);
NTI256245.flags = 2;
NTI256245.marker = TMP2316;
TMP2283[7].kind = 1;
TMP2283[7].offset = offsetof(TY256243, Field1);
TMP2283[7].typ = (&NTI256245);
TMP2283[7].name = "Field1";
TMP2283[5].len = 2; TMP2283[5].kind = 2; TMP2283[5].sons = &TMP2315[0];
NTI255018.node = &TMP2283[5];
TMP2283[4].kind = 1;
TMP2283[4].offset = offsetof(FuturebaseHEX3Aobjecttype255017, cb);
TMP2283[4].typ = (&NTI255018);
TMP2283[4].name = "cb";
TMP2314[1] = &TMP2283[9];
TMP2283[9].kind = 1;
TMP2283[9].offset = offsetof(FuturebaseHEX3Aobjecttype255017, finished);
TMP2283[9].typ = (&NTI138);
TMP2283[9].name = "finished";
TMP2314[2] = &TMP2283[10];
TMP2283[10].kind = 1;
TMP2283[10].offset = offsetof(FuturebaseHEX3Aobjecttype255017, error);
TMP2283[10].typ = (&NTI9022);
TMP2283[10].name = "error";
TMP2314[3] = &TMP2283[11];
TMP2283[11].kind = 1;
TMP2283[11].offset = offsetof(FuturebaseHEX3Aobjecttype255017, errorstacktrace);
TMP2283[11].typ = (&NTI149);
TMP2283[11].name = "errorStackTrace";
TMP2314[4] = &TMP2283[12];
TMP2283[12].kind = 1;
TMP2283[12].offset = offsetof(FuturebaseHEX3Aobjecttype255017, stacktrace);
TMP2283[12].typ = (&NTI149);
TMP2283[12].name = "stackTrace";
TMP2314[5] = &TMP2283[13];
TMP2283[13].kind = 1;
TMP2283[13].offset = offsetof(FuturebaseHEX3Aobjecttype255017, id);
TMP2283[13].typ = (&NTI108);
TMP2283[13].name = "id";
TMP2314[6] = &TMP2283[14];
TMP2283[14].kind = 1;
TMP2283[14].offset = offsetof(FuturebaseHEX3Aobjecttype255017, fromproc);
TMP2283[14].typ = (&NTI149);
TMP2283[14].name = "fromProc";
TMP2283[3].len = 7; TMP2283[3].kind = 2; TMP2283[3].sons = &TMP2314[0];
NTI255017.node = &TMP2283[3];
NTI255097.size = sizeof(FutureHEX3Aobjecttype255097);
NTI255097.kind = 17;
NTI255097.base = (&NTI255017);
TMP2283[15].len = 0; TMP2283[15].kind = 2;
NTI255097.node = &TMP2283[15];
NTI255096.size = sizeof(FutureHEX3Aobjecttype255097*);
NTI255096.kind = 22;
NTI255096.base = (&NTI255097);
NTI255096.marker = TMP2317;
TMP2283[2].kind = 1;
TMP2283[2].offset = offsetof(TY255995, Field1);
TMP2283[2].typ = (&NTI255096);
TMP2283[2].name = "Field1";
TMP2283[0].len = 2; TMP2283[0].kind = 2; TMP2283[0].sons = &TMP2313[0];
NTI255995.node = &TMP2283[0];
NTI255994.size = sizeof(TY255994*);
NTI255994.kind = 24;
NTI255994.base = (&NTI255995);
NTI255994.marker = TMP2318;
NTI259769.size = sizeof(FutureHEX3Aobjecttype259769);
NTI259769.kind = 17;
NTI259769.base = (&NTI255017);
TMP2283[16].kind = 1;
TMP2283[16].offset = offsetof(FutureHEX3Aobjecttype259769, value);
TMP2283[16].typ = (&NTI149);
TMP2283[16].name = "value";
NTI259769.node = &TMP2283[16];
NTI259768.size = sizeof(FutureHEX3Aobjecttype259769*);
NTI259768.kind = 22;
NTI259768.base = (&NTI259769);
NTI259768.marker = TMP2347;
NTI261249.size = sizeof(FutureHEX3Aobjecttype261249);
NTI261249.kind = 17;
NTI261249.base = (&NTI255017);
TMP2283[17].kind = 1;
TMP2283[17].offset = offsetof(FutureHEX3Aobjecttype261249, value);
TMP2283[17].typ = (&NTI108);
TMP2283[17].name = "value";
NTI261249.node = &TMP2283[17];
NTI261248.size = sizeof(FutureHEX3Aobjecttype261249*);
NTI261248.kind = 22;
NTI261248.base = (&NTI261249);
NTI261248.marker = TMP2352;
NTI262756.size = sizeof(FutureHEX3Aobjecttype262756);
NTI262756.kind = 17;
NTI262756.base = (&NTI255017);
NTI262749.size = sizeof(TY262749);
NTI262749.kind = 18;
NTI262749.base = 0;
NTI262749.flags = 2;
TMP2356[0] = &TMP2283[20];
TMP2283[20].kind = 1;
TMP2283[20].offset = offsetof(TY262749, Field0);
TMP2283[20].typ = (&NTI149);
TMP2283[20].name = "Field0";
TMP2356[1] = &TMP2283[21];
TMP2283[21].kind = 1;
TMP2283[21].offset = offsetof(TY262749, Field1);
TMP2283[21].typ = (&NTI108);
TMP2283[21].name = "Field1";
TMP2283[19].len = 2; TMP2283[19].kind = 2; TMP2283[19].sons = &TMP2356[0];
NTI262749.node = &TMP2283[19];
TMP2283[18].kind = 1;
TMP2283[18].offset = offsetof(FutureHEX3Aobjecttype262756, value);
TMP2283[18].typ = (&NTI262749);
TMP2283[18].name = "value";
NTI262756.node = &TMP2283[18];
NTI262755.size = sizeof(FutureHEX3Aobjecttype262756*);
NTI262755.kind = 22;
NTI262755.base = (&NTI262756);
NTI262755.marker = TMP2357;
NTI255993.size = sizeof(PdispatcherbaseHEX3Aobjecttype255993);
NTI255993.kind = 17;
NTI255993.base = (&NTI3411);
TMP2283[22].kind = 1;
TMP2283[22].offset = offsetof(PdispatcherbaseHEX3Aobjecttype255993, timers);
TMP2283[22].typ = (&NTI255994);
TMP2283[22].name = "timers";
NTI255993.node = &TMP2283[22];
NTI258020.size = sizeof(PdispatcherHEX3Aobjecttype258020);
NTI258020.kind = 17;
NTI258020.base = (&NTI255993);
TMP2369[0] = &TMP2283[24];
TMP2283[24].kind = 1;
TMP2283[24].offset = offsetof(PdispatcherHEX3Aobjecttype258020, ioport);
TMP2283[24].typ = (&NTI103219);
TMP2283[24].name = "ioPort";
TMP2369[1] = &TMP2283[25];
TMP2283[25].kind = 1;
TMP2283[25].offset = offsetof(PdispatcherHEX3Aobjecttype258020, handles);
TMP2283[25].typ = (&NTI258026);
TMP2283[25].name = "handles";
TMP2283[23].len = 2; TMP2283[23].kind = 2; TMP2283[23].sons = &TMP2369[0];
NTI258020.node = &TMP2283[23];
NTI258006.size = sizeof(PdispatcherHEX3Aobjecttype258020*);
NTI258006.kind = 22;
NTI258006.base = (&NTI258020);
NTI258006.marker = TMP2371;
NTI259730.size = sizeof(TY259730);
NTI259730.kind = 18;
NTI259730.base = 0;
TMP2380[0] = &TMP2283[27];
NTI259732.size = sizeof(NI);
NTI259732.kind = 20;
NTI259732.base = (&NTI108);
NTI259732.flags = 3;
TMP2283[27].kind = 1;
TMP2283[27].offset = offsetof(TY259730, HEX3Astate);
TMP2283[27].typ = (&NTI259732);
TMP2283[27].name = ":state";
TMP2380[1] = &TMP2283[28];
TMP2283[28].kind = 1;
TMP2283[28].offset = offsetof(TY259730, retfuture259613);
TMP2283[28].typ = (&NTI255096);
TMP2283[28].name = "retFuture259613";
TMP2283[26].len = 2; TMP2283[26].kind = 2; TMP2283[26].sons = &TMP2380[0];
NTI259730.node = &TMP2283[26];
NTI259756.size = sizeof(TY259730*);
NTI259756.kind = 22;
NTI259756.base = (&NTI259730);
NTI259756.marker = TMP2381;
NTI259733.size = sizeof(TY259733);
NTI259733.kind = 18;
NTI259733.base = 0;
TMP2383[0] = &TMP2283[30];
TMP2283[30].kind = 1;
TMP2283[30].offset = offsetof(TY259733, HEX3Astate);
TMP2283[30].typ = (&NTI259732);
TMP2283[30].name = ":state";
TMP2383[1] = &TMP2283[31];
TMP2283[31].kind = 1;
TMP2283[31].offset = offsetof(TY259733, HEX3Aup259747);
TMP2283[31].typ = (&NTI259756);
TMP2283[31].name = ":up259747";
TMP2283[29].len = 2; TMP2283[29].kind = 2; TMP2283[29].sons = &TMP2383[0];
NTI259733.node = &TMP2283[29];
NTI259754.size = sizeof(TY259733*);
NTI259754.kind = 22;
NTI259754.base = (&NTI259733);
NTI259754.marker = TMP2384;
NTI259736.size = sizeof(TY259736);
NTI259736.kind = 18;
NTI259736.base = 0;
TMP2385[0] = &TMP2283[33];
TMP2283[33].kind = 1;
TMP2283[33].offset = offsetof(TY259736, HEX3Astate);
TMP2283[33].typ = (&NTI259732);
TMP2283[33].name = ":state";
TMP2385[1] = &TMP2283[34];
TMP2283[34].kind = 1;
TMP2283[34].offset = offsetof(TY259736, HEX3Aup259744);
TMP2283[34].typ = (&NTI259754);
TMP2283[34].name = ":up259744";
TMP2283[32].len = 2; TMP2283[32].kind = 2; TMP2283[32].sons = &TMP2385[0];
NTI259736.node = &TMP2283[32];
NTI259752.size = sizeof(TY259736*);
NTI259752.kind = 22;
NTI259752.base = (&NTI259736);
NTI259752.marker = TMP2386;
NTI258008.size = sizeof(Tcustomoverlapped258008);
NTI258008.kind = 18;
NTI258008.base = (&NTI105608);
NTI258004.size = sizeof(Tcompletiondata258004);
NTI258004.kind = 18;
NTI258004.base = 0;
TMP2388[0] = &TMP2283[37];
TMP2283[37].kind = 1;
TMP2283[37].offset = offsetof(Tcompletiondata258004, fd);
TMP2283[37].typ = (&NTI108);
TMP2283[37].name = "fd";
TMP2388[1] = &TMP2283[38];
NTI258014.size = sizeof(TY256243);
NTI258014.kind = 18;
NTI258014.base = 0;
NTI258014.flags = 2;
TMP2389[0] = &TMP2283[40];
TMP2283[40].kind = 1;
TMP2283[40].offset = offsetof(TY256243, Field0);
TMP2283[40].typ = (&NTI153);
TMP2283[40].name = "Field0";
TMP2389[1] = &TMP2283[41];
TMP2283[41].kind = 1;
TMP2283[41].offset = offsetof(TY256243, Field1);
TMP2283[41].typ = (&NTI256245);
TMP2283[41].name = "Field1";
TMP2283[39].len = 2; TMP2283[39].kind = 2; TMP2283[39].sons = &TMP2389[0];
NTI258014.node = &TMP2283[39];
TMP2283[38].kind = 1;
TMP2283[38].offset = offsetof(Tcompletiondata258004, cb);
TMP2283[38].typ = (&NTI258014);
TMP2283[38].name = "cb";
TMP2283[36].len = 2; TMP2283[36].kind = 2; TMP2283[36].sons = &TMP2388[0];
NTI258004.node = &TMP2283[36];
TMP2283[35].kind = 1;
TMP2283[35].offset = offsetof(Tcustomoverlapped258008, data);
TMP2283[35].typ = (&NTI258004);
TMP2283[35].name = "data";
NTI258008.node = &TMP2283[35];
NTI258010.size = sizeof(Tcustomoverlapped258008*);
NTI258010.kind = 22;
NTI258010.base = (&NTI258008);
NTI258010.marker = TMP2390;
NTI261222.size = sizeof(TY261222);
NTI261222.kind = 18;
NTI261222.base = 0;
TMP2391[0] = &TMP2283[43];
TMP2283[43].kind = 1;
TMP2283[43].offset = offsetof(TY261222, HEX3Astate);
TMP2283[43].typ = (&NTI259732);
TMP2283[43].name = ":state";
TMP2391[1] = &TMP2283[44];
TMP2283[44].kind = 1;
TMP2283[44].offset = offsetof(TY261222, retfuture260013);
TMP2283[44].typ = (&NTI259768);
TMP2283[44].name = "retFuture260013";
TMP2391[2] = &TMP2283[45];
TMP2283[45].kind = 1;
TMP2283[45].offset = offsetof(TY261222, databuf260014);
TMP2283[45].typ = (&NTI105747);
TMP2283[45].name = "dataBuf260014";
TMP2391[3] = &TMP2283[46];
TMP2283[46].kind = 1;
TMP2283[46].offset = offsetof(TY261222, size259760);
TMP2283[46].typ = (&NTI108);
TMP2283[46].name = "size259760";
TMP2391[4] = &TMP2283[47];
NTI259761.size = sizeof(NU8);
NTI259761.kind = 19;
NTI259761.base = (&NTI239417);
NTI259761.flags = 3;
TMP2283[48].len = 0; TMP2283[48].kind = 0;
NTI259761.node = &TMP2283[48];
TMP2283[47].kind = 1;
TMP2283[47].offset = offsetof(TY261222, flags259763);
TMP2283[47].typ = (&NTI259761);
TMP2283[47].name = "flags259763";
TMP2283[42].len = 5; TMP2283[42].kind = 2; TMP2283[42].sons = &TMP2391[0];
NTI261222.node = &TMP2283[42];
NTI261235.size = sizeof(TY261222*);
NTI261235.kind = 22;
NTI261235.base = (&NTI261222);
NTI261235.marker = TMP2396;
NTI262619.size = sizeof(TY262619);
NTI262619.kind = 18;
NTI262619.base = 0;
TMP2403[0] = &TMP2283[50];
TMP2283[50].kind = 1;
TMP2283[50].offset = offsetof(TY262619, HEX3Astate);
TMP2283[50].typ = (&NTI259732);
TMP2283[50].name = ":state";
TMP2403[1] = &TMP2283[51];
TMP2283[51].kind = 1;
TMP2283[51].offset = offsetof(TY262619, retfuture261613);
TMP2283[51].typ = (&NTI261248);
TMP2283[51].name = "retFuture261613";
TMP2403[2] = &TMP2283[52];
TMP2283[52].kind = 1;
TMP2283[52].offset = offsetof(TY262619, databuf261614);
TMP2283[52].typ = (&NTI105747);
TMP2283[52].name = "dataBuf261614";
TMP2403[3] = &TMP2283[53];
TMP2283[53].kind = 1;
TMP2283[53].offset = offsetof(TY262619, flags261243);
TMP2283[53].typ = (&NTI259761);
TMP2283[53].name = "flags261243";
TMP2283[49].len = 4; TMP2283[49].kind = 2; TMP2283[49].sons = &TMP2403[0];
NTI262619.node = &TMP2283[49];
NTI262631.size = sizeof(TY262619*);
NTI262631.kind = 22;
NTI262631.base = (&NTI262619);
NTI262631.marker = TMP2404;
NTI262730.size = sizeof(TY262730);
NTI262730.kind = 18;
NTI262730.base = 0;
TMP2406[0] = &TMP2283[55];
TMP2283[55].kind = 1;
TMP2283[55].offset = offsetof(TY262730, HEX3Astate);
TMP2283[55].typ = (&NTI259732);
TMP2283[55].name = ":state";
TMP2406[1] = &TMP2283[56];
TMP2283[56].kind = 1;
TMP2283[56].offset = offsetof(TY262730, retfuture262650);
TMP2283[56].typ = (&NTI255096);
TMP2283[56].name = "retFuture262650";
TMP2406[2] = &TMP2283[57];
TMP2283[57].kind = 1;
TMP2283[57].offset = offsetof(TY262730, flags262638);
TMP2283[57].typ = (&NTI259761);
TMP2283[57].name = "flags262638";
TMP2283[54].len = 3; TMP2283[54].kind = 2; TMP2283[54].sons = &TMP2406[0];
NTI262730.node = &TMP2283[54];
NTI262741.size = sizeof(TY262730*);
NTI262741.kind = 22;
NTI262741.base = (&NTI262730);
NTI262741.marker = TMP2407;
NTI264164.size = sizeof(TY264164);
NTI264164.kind = 18;
NTI264164.base = 0;
TMP2409[0] = &TMP2283[59];
TMP2283[59].kind = 1;
TMP2283[59].offset = offsetof(TY264164, HEX3Astate);
TMP2283[59].typ = (&NTI259732);
TMP2283[59].name = ":state";
TMP2409[1] = &TMP2283[60];
TMP2283[60].kind = 1;
TMP2283[60].offset = offsetof(TY264164, retfuture262813);
TMP2283[60].typ = (&NTI262755);
TMP2283[60].name = "retFuture262813";
TMP2409[2] = &TMP2283[61];
TMP2283[61].kind = 1;
TMP2283[61].offset = offsetof(TY264164, socket262744);
TMP2283[61].typ = (&NTI108);
TMP2283[61].name = "socket262744";
TMP2409[3] = &TMP2283[62];
TMP2283[62].kind = 1;
TMP2283[62].offset = offsetof(TY264164, clientsock262814);
TMP2283[62].typ = (&NTI108);
TMP2283[62].name = "clientSock262814";
TMP2409[4] = &TMP2283[63];
TMP2283[63].kind = 1;
TMP2283[63].offset = offsetof(TY264164, lpoutputbuf262817);
TMP2283[63].typ = (&NTI149);
TMP2283[63].name = "lpOutputBuf262817";
TMP2409[5] = &TMP2283[64];
TMP2283[64].kind = 1;
TMP2283[64].offset = offsetof(TY264164, dwreceivedatalength262819);
TMP2283[64].typ = (&NTI103229);
TMP2283[64].name = "dwReceiveDataLength262819";
TMP2409[6] = &TMP2283[65];
TMP2283[65].kind = 1;
TMP2283[65].offset = offsetof(TY264164, dwlocaladdresslength262821);
TMP2283[65].typ = (&NTI103229);
TMP2283[65].name = "dwLocalAddressLength262821";
TMP2409[7] = &TMP2283[66];
TMP2283[66].kind = 1;
TMP2283[66].offset = offsetof(TY264164, dwremoteaddresslength262823);
TMP2283[66].typ = (&NTI103229);
TMP2283[66].name = "dwRemoteAddressLength262823";
TMP2409[8] = &TMP2283[67];
TMP2283[67].kind = 1;
TMP2283[67].offset = offsetof(TY264164, flags262747);
TMP2283[67].typ = (&NTI259761);
TMP2283[67].name = "flags262747";
TMP2409[9] = &TMP2283[68];
TMP2283[68].kind = 1;
TMP2283[68].offset = offsetof(TY264164, newacceptfut264058);
TMP2283[68].typ = (&NTI262755);
TMP2283[68].name = "newAcceptFut264058";
TMP2283[58].len = 10; TMP2283[58].kind = 2; TMP2283[58].sons = &TMP2409[0];
NTI264164.node = &TMP2283[58];
NTI264198.size = sizeof(TY264164*);
NTI264198.kind = 22;
NTI264198.base = (&NTI264164);
NTI264198.marker = TMP2410;
NTI264167.size = sizeof(TY264167);
NTI264167.kind = 18;
NTI264167.base = 0;
TMP2414[0] = &TMP2283[70];
TMP2283[70].kind = 1;
TMP2283[70].offset = offsetof(TY264167, HEX3Astate);
TMP2283[70].typ = (&NTI259732);
TMP2283[70].name = ":state";
TMP2414[1] = &TMP2283[71];
TMP2283[71].kind = 1;
TMP2283[71].offset = offsetof(TY264167, newacceptfut263614);
TMP2283[71].typ = (&NTI262755);
TMP2283[71].name = "newAcceptFut263614";
TMP2414[2] = &TMP2283[72];
TMP2283[72].kind = 1;
TMP2283[72].offset = offsetof(TY264167, HEX3Aup264176);
TMP2283[72].typ = (&NTI264198);
TMP2283[72].name = ":up264176";
TMP2283[69].len = 3; TMP2283[69].kind = 2; TMP2283[69].sons = &TMP2414[0];
NTI264167.node = &TMP2283[69];
NTI264196.size = sizeof(TY264167*);
NTI264196.kind = 22;
NTI264196.base = (&NTI264167);
NTI264196.marker = TMP2415;
NTI264663.size = sizeof(FutureHEX3Aobjecttype264663);
NTI264663.kind = 17;
NTI264663.base = (&NTI255017);
TMP2283[73].kind = 1;
TMP2283[73].offset = offsetof(FutureHEX3Aobjecttype264663, value);
TMP2283[73].typ = (&NTI108);
TMP2283[73].name = "value";
NTI264663.node = &TMP2283[73];
NTI264662.size = sizeof(FutureHEX3Aobjecttype264663*);
NTI264662.kind = 22;
NTI264662.base = (&NTI264663);
NTI264662.marker = TMP2417;
NTI265830.size = sizeof(TY265830);
NTI265830.kind = 18;
NTI265830.base = 0;
TMP2421[0] = &TMP2283[75];
TMP2283[75].kind = 1;
TMP2283[75].offset = offsetof(TY265830, HEX3Astate);
TMP2283[75].typ = (&NTI259732);
TMP2283[75].name = ":state";
TMP2421[1] = &TMP2283[76];
NTI265820.size = sizeof(TY256243);
NTI265820.kind = 18;
NTI265820.base = 0;
NTI265820.flags = 2;
TMP2422[0] = &TMP2283[78];
TMP2283[78].kind = 1;
TMP2283[78].offset = offsetof(TY256243, Field0);
TMP2283[78].typ = (&NTI153);
TMP2283[78].name = "Field0";
TMP2422[1] = &TMP2283[79];
TMP2283[79].kind = 1;
TMP2283[79].offset = offsetof(TY256243, Field1);
TMP2283[79].typ = (&NTI256245);
TMP2283[79].name = "Field1";
TMP2283[77].len = 2; TMP2283[77].kind = 2; TMP2283[77].sons = &TMP2422[0];
NTI265820.node = &TMP2283[77];
TMP2283[76].kind = 1;
TMP2283[76].offset = offsetof(TY265830, cb265827);
TMP2283[76].typ = (&NTI265820);
TMP2283[76].name = "cb265827";
TMP2421[2] = &TMP2283[80];
TMP2283[80].kind = 1;
TMP2283[80].offset = offsetof(TY265830, future265819);
TMP2283[80].typ = (&NTI262755);
TMP2283[80].name = "future265819";
TMP2283[74].len = 3; TMP2283[74].kind = 2; TMP2283[74].sons = &TMP2421[0];
NTI265830.node = &TMP2283[74];
NTI265841.size = sizeof(TY265830*);
NTI265841.kind = 22;
NTI265841.base = (&NTI265830);
NTI265841.marker = TMP2423;
NTI265842.size = sizeof(TY265842);
NTI265842.kind = 18;
NTI265842.base = 0;
TMP2425[0] = &TMP2283[82];
TMP2283[82].kind = 1;
TMP2283[82].offset = offsetof(TY265842, HEX3Astate);
TMP2283[82].typ = (&NTI259732);
TMP2283[82].name = ":state";
TMP2425[1] = &TMP2283[83];
TMP2283[83].kind = 1;
TMP2283[83].offset = offsetof(TY265842, retfut264813);
TMP2283[83].typ = (&NTI264662);
TMP2283[83].name = "retFut264813";
TMP2283[81].len = 2; TMP2283[81].kind = 2; TMP2283[81].sons = &TMP2425[0];
NTI265842.node = &TMP2283[81];
NTI265852.size = sizeof(TY265842*);
NTI265852.kind = 22;
NTI265852.base = (&NTI265842);
NTI265852.marker = TMP2426;
NTI267410.size = sizeof(TY267410);
NTI267410.kind = 18;
NTI267410.base = 0;
TMP2429[0] = &TMP2283[85];
NTI267412.size = sizeof(NI);
NTI267412.kind = 20;
NTI267412.base = (&NTI108);
NTI267412.flags = 3;
TMP2283[85].kind = 1;
TMP2283[85].offset = offsetof(TY267410, HEX3Astate);
TMP2283[85].typ = (&NTI267412);
TMP2283[85].name = ":state";
TMP2429[1] = &TMP2283[86];
TMP2283[86].kind = 1;
TMP2283[86].offset = offsetof(TY267410, socket266601);
TMP2283[86].typ = (&NTI108);
TMP2283[86].name = "socket266601";
TMP2429[2] = &TMP2283[87];
TMP2283[87].kind = 1;
TMP2283[87].offset = offsetof(TY267410, retfuture266595);
TMP2283[87].typ = (&NTI259768);
TMP2283[87].name = "retFuture266595";
TMP2429[3] = &TMP2283[88];
NTI266613.size = sizeof(TY256243);
NTI266613.kind = 18;
NTI266613.base = 0;
NTI266613.flags = 2;
TMP2430[0] = &TMP2283[90];
TMP2283[90].kind = 1;
TMP2283[90].offset = offsetof(TY256243, Field0);
TMP2283[90].typ = (&NTI153);
TMP2283[90].name = "Field0";
TMP2430[1] = &TMP2283[91];
TMP2283[91].kind = 1;
TMP2283[91].offset = offsetof(TY256243, Field1);
TMP2283[91].typ = (&NTI256245);
TMP2283[91].name = "Field1";
TMP2283[89].len = 2; TMP2283[89].kind = 2; TMP2283[89].sons = &TMP2430[0];
NTI266613.node = &TMP2283[89];
TMP2283[88].kind = 1;
TMP2283[88].offset = offsetof(TY267410, nameitervar267231);
TMP2283[88].typ = (&NTI266613);
TMP2283[88].name = "nameIterVar267231";
TMP2429[4] = &TMP2283[92];
TMP2283[92].kind = 1;
TMP2283[92].offset = offsetof(TY267410, result266615);
TMP2283[92].typ = (&NTI149);
TMP2283[92].name = "result266615";
TMP2429[5] = &TMP2283[93];
TMP2283[93].kind = 1;
TMP2283[93].offset = offsetof(TY267410, c266621);
TMP2283[93].typ = (&NTI149);
TMP2283[93].name = "c266621";
TMP2429[6] = &TMP2283[94];
TMP2283[94].kind = 1;
TMP2283[94].offset = offsetof(TY267410, future266597);
TMP2283[94].typ = (&NTI259768);
TMP2283[94].name = "future266597";
TMP2429[7] = &TMP2283[95];
TMP2283[95].kind = 1;
TMP2283[95].offset = offsetof(TY267410, future266598);
TMP2283[95].typ = (&NTI259768);
TMP2283[95].name = "future266598";
TMP2283[84].len = 8; TMP2283[84].kind = 2; TMP2283[84].sons = &TMP2429[0];
NTI267410.node = &TMP2283[84];
NTI267417.size = sizeof(TY267410*);
NTI267417.kind = 22;
NTI267417.base = (&NTI267410);
NTI267417.marker = TMP2431;
NTI271248.size = sizeof(FutureHEX3Aobjecttype271248);
NTI271248.kind = 17;
NTI271248.base = (&NTI255017);
TMP2283[96].kind = 1;
TMP2283[96].offset = offsetof(FutureHEX3Aobjecttype271248, value);
TMP2283[96].typ = (&NTI271241);
TMP2283[96].name = "value";
NTI271248.node = &TMP2283[96];
NTI271247.size = sizeof(FutureHEX3Aobjecttype271248*);
NTI271247.kind = 22;
NTI271247.base = (&NTI271248);
NTI271247.marker = TMP2478;
NTI272455.size = sizeof(FutureHEX3Aobjecttype272455);
NTI272455.kind = 17;
NTI272455.base = (&NTI255017);
TMP2283[97].kind = 1;
TMP2283[97].offset = offsetof(FutureHEX3Aobjecttype272455, value);
TMP2283[97].typ = (&NTI268204);
TMP2283[97].name = "value";
NTI272455.node = &TMP2283[97];
NTI272454.size = sizeof(FutureHEX3Aobjecttype272455*);
NTI272454.kind = 22;
NTI272454.base = (&NTI272455);
NTI272454.marker = TMP2486;
NTI274030.size = sizeof(TY274030);
NTI274030.kind = 18;
NTI274030.base = 0;
TMP2490[0] = &TMP2283[99];
TMP2283[99].kind = 1;
TMP2283[99].offset = offsetof(TY274030, HEX3Astate);
TMP2283[99].typ = (&NTI259732);
TMP2283[99].name = ":state";
TMP2490[1] = &TMP2283[100];
NTI274020.size = sizeof(TY256243);
NTI274020.kind = 18;
NTI274020.base = 0;
NTI274020.flags = 2;
TMP2491[0] = &TMP2283[102];
TMP2283[102].kind = 1;
TMP2283[102].offset = offsetof(TY256243, Field0);
TMP2283[102].typ = (&NTI153);
TMP2283[102].name = "Field0";
TMP2491[1] = &TMP2283[103];
TMP2283[103].kind = 1;
TMP2283[103].offset = offsetof(TY256243, Field1);
TMP2283[103].typ = (&NTI256245);
TMP2283[103].name = "Field1";
TMP2283[101].len = 2; TMP2283[101].kind = 2; TMP2283[101].sons = &TMP2491[0];
NTI274020.node = &TMP2283[101];
TMP2283[100].kind = 1;
TMP2283[100].offset = offsetof(TY274030, cb274027);
TMP2283[100].typ = (&NTI274020);
TMP2283[100].name = "cb274027";
TMP2490[2] = &TMP2283[104];
TMP2283[104].kind = 1;
TMP2283[104].offset = offsetof(TY274030, future274019);
TMP2283[104].typ = (&NTI271247);
TMP2283[104].name = "future274019";
TMP2283[98].len = 3; TMP2283[98].kind = 2; TMP2283[98].sons = &TMP2490[0];
NTI274030.node = &TMP2283[98];
NTI274041.size = sizeof(TY274030*);
NTI274041.kind = 22;
NTI274041.base = (&NTI274030);
NTI274041.marker = TMP2492;
NTI279252.size = sizeof(FutureHEX3Aobjecttype279252);
NTI279252.kind = 17;
NTI279252.base = (&NTI255017);
TMP2283[105].kind = 1;
TMP2283[105].offset = offsetof(FutureHEX3Aobjecttype279252, value);
TMP2283[105].typ = (&NTI277008);
TMP2283[105].name = "value";
NTI279252.node = &TMP2283[105];
NTI279251.size = sizeof(FutureHEX3Aobjecttype279252*);
NTI279251.kind = 22;
NTI279251.base = (&NTI279252);
NTI279251.marker = TMP2702;
}

