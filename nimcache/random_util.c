/* Generated by Nim Compiler v0.11.2 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Windows, amd64, gcc */
/* Command for C compiler:
   C:\Nim\dist\mingw\bin\gcc.exe -c  -w  -IC:\Nim\lib -o c:\users\owner\documents\nim\esfj\nimcache\random_util.o c:\users\owner\documents\nim\esfj\nimcache\random_util.c */
#define NIM_INTBITS 64
#include "nimbase.h"
typedef struct TY129057 TY129057;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef NI TY124209[64];
typedef NU64 TY124442[6];
struct  TGenericSeq  {
NI len;
NI reserved;
};
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY129057 {
  TGenericSeq Sup;
  NU32 data[SEQ_DECL_SIZE];
};
static N_INLINE(NI, log2pow2fallback_124204)(NU64 x);
N_NOINLINE(void, raiseIndexError)(void);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackoverflow_20001)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(NI, log2pow2_124266)(NU64 x);
N_NIMCALL(int, __builtin_clzll)(unsigned long long n);
static N_INLINE(NI, subInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(NI, log2pow21_124407)(NU64 x);
static N_INLINE(NI, bitsizefallback_124437)(NU64 x_124439);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NIMCALL(NI, bitsize_124518)(NU64 x);
static N_INLINE(NI, divInt)(NI a, NI b);
N_NOINLINE(void, raiseDivByZero)(void);
N_NIMCALL(TY129057*, newseq_129070)(NI len);
N_NIMCALL(void, TMP553)(void* p, NI op);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
N_NIMCALL(NI, mulInt)(NI a, NI b);
NIM_CONST TY124209 debruijn64_124208 = {((NI) 0),
((NI) 1),
((NI) 2),
((NI) 53),
((NI) 3),
((NI) 7),
((NI) 54),
((NI) 27),
((NI) 4),
((NI) 38),
((NI) 41),
((NI) 8),
((NI) 34),
((NI) 55),
((NI) 48),
((NI) 28),
((NI) 62),
((NI) 5),
((NI) 39),
((NI) 46),
((NI) 44),
((NI) 42),
((NI) 22),
((NI) 9),
((NI) 24),
((NI) 35),
((NI) 59),
((NI) 56),
((NI) 49),
((NI) 18),
((NI) 29),
((NI) 11),
((NI) 63),
((NI) 52),
((NI) 6),
((NI) 26),
((NI) 37),
((NI) 40),
((NI) 33),
((NI) 47),
((NI) 61),
((NI) 45),
((NI) 43),
((NI) 21),
((NI) 23),
((NI) 58),
((NI) 17),
((NI) 10),
((NI) 51),
((NI) 25),
((NI) 36),
((NI) 32),
((NI) 60),
((NI) 20),
((NI) 57),
((NI) 16),
((NI) 50),
((NI) 31),
((NI) 19),
((NI) 15),
((NI) 30),
((NI) 14),
((NI) 13),
((NI) 12)}
;
extern TFrame* frameptr_17042;
extern TNimType NTI124; /* uint32 */
TNimType NTI129057; /* seq[uint32] */

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI LOC1;
	LOC1 = 0;
	{
		if (!(frameptr_17042 == NIM_NIL)) goto LA4;
		LOC1 = ((NI) 0);
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = ((NI) ((NI16)((*frameptr_17042).calldepth + ((NI16) 1))));
	}
	LA2: ;
	(*s).calldepth = ((NI16) (LOC1));
	(*s).prev = frameptr_17042;
	frameptr_17042 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9;
		stackoverflow_20001();
	}
	LA9: ;
}

static N_INLINE(void, popFrame)(void) {
	frameptr_17042 = (*frameptr_17042).prev;
}

static N_INLINE(NI, log2pow2fallback_124204)(NU64 x) {
	NI result;
	nimfr("log2pow2Fallback", "util.nim")
	result = 0;
	nimln(44, "util.nim");
	nimln(50, "util.nim");
	if ((NU)((NU64)((NU64)((NU64)((NU64)(x) * (NU64)(157587932685088877ULL))) >> (NU64)(58ULL))) > (NU)(63)) raiseIndexError();
	result = debruijn64_124208[((NU64)((NU64)((NU64)((NU64)(x) * (NU64)(157587932685088877ULL))) >> (NU64)(58ULL)))- 0];
	popFrame();
	return result;
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
{	result = 0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (((NI) 0) <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (((NI) 0) <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, log2pow2_124266)(NU64 x) {
	NI result;
	int LOC1;
	NI TMP524;
	nimfr("log2pow2", "util.nim")
	result = 0;
	nimln(53, "util.nim");
	nimln(55, "util.nim");
	LOC1 = 0;
	LOC1 = __builtin_clzll(x);
	TMP524 = subInt(((NI32) 64), LOC1);
	if (TMP524 < (-2147483647 -1) || TMP524 > 2147483647) raiseOverflow();
	result = ((NI) ((NI32)(TMP524)));
	popFrame();
	return result;
}

static N_INLINE(NI, log2pow21_124407)(NU64 x) {
	NI result;
	nimfr("log2pow21", "util.nim")
	result = 0;
	nimln(60, "util.nim");
	nimln(61, "util.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = unlikely((x == 18446744073709551615ULL));
		if (!LOC3) goto LA4;
		result = ((NI) 65);
	}
	goto LA1;
	LA4: ;
	{
		nimln(64, "util.nim");
		result = log2pow2_124266((NU64)((NU64)(x) + (NU64)(((NI) 1))));
	}
	LA1: ;
	popFrame();
	return result;
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
{	result = 0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (((NI) 0) <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (((NI) 0) <= (NI)(result ^ b));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, bitsizefallback_124437)(NU64 x_124439) {
	NI result;
	NU64 x;
	NI LOC13;
	NI TMP526;
	nimfr("bitSizeFallback", "util.nim")
	result = 0;
	nimln(67, "util.nim");
	x = x_124439;
	{
		NU64 s_124480;
		NI i_124502;
		s_124480 = 0;
		nimln(1703, "system.nim");
		i_124502 = ((NI) 0);
		nimln(1704, "system.nim");
		{
			if (!(((NI) (i_124502)) <= ((NI) 5))) goto LA4;
			{
				nimln(1705, "system.nim");
				while (1) {
					TY124442 LOC8;
					NI TMP525;
					nimln(1706, "system.nim");
					LOC8[0] = 1ULL;
					LOC8[1] = 2ULL;
					LOC8[2] = 4ULL;
					LOC8[3] = 8ULL;
					LOC8[4] = 16ULL;
					LOC8[5] = 32ULL;
					s_124480 = LOC8[(i_124502)- 0];
					nimln(69, "util.nim");
					x = (NU64)(x | (NU64)((NU64)(x) >> (NU64)(s_124480)));
					nimln(1707, "system.nim");
					{
						if (!(((NI) 5) <= ((NI) (i_124502)))) goto LA11;
						goto LA6;
					}
					LA11: ;
					nimln(1708, "system.nim");
					TMP525 = addInt(i_124502, ((NI) 1));
					if (TMP525 < 0 || TMP525 > 5) raiseOverflow();
					i_124502 = (NI)(TMP525);
				}
			} LA6: ;
		}
		LA4: ;
	}
	nimln(70, "util.nim");
	LOC13 = 0;
	LOC13 = log2pow21_124407(x);
	TMP526 = subInt(LOC13, ((NI) 1));
	result = (NI)(TMP526);
	popFrame();
	return result;
}

N_NIMCALL(NI, bitsize_124518)(NU64 x) {
	NI result;
	int LOC1;
	NI TMP527;
	nimfr("bitSize", "util.nim")
{	result = 0;
	nimln(75, "util.nim");
	LOC1 = 0;
	LOC1 = __builtin_clzll(x);
	TMP527 = subInt(((NI32) 64), LOC1);
	if (TMP527 < (-2147483647 -1) || TMP527 > 2147483647) raiseOverflow();
	result = ((NI) ((NI32)(TMP527)));
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NI, divInt)(NI a, NI b) {
	NI result;
{	result = 0;
	{
		if (!(b == ((NI) 0))) goto LA3;
		raiseDivByZero();
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == ((NI) (IL64(-9223372036854775807) - IL64(1))));
		if (!(LOC7)) goto LA8;
		LOC7 = (b == ((NI) -1));
		LA8: ;
		if (!LOC7) goto LA9;
		raiseOverflow();
	}
	LA9: ;
	result = (NI)(a / b);
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}
N_NIMCALL(void, TMP553)(void* p, NI op) {
	TY129057* a;
	NI LOC1;
	a = (TY129057*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	}
}

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
{	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (a <= i);
		if (!(LOC3)) goto LA4;
		LOC3 = (i <= b);
		LA4: ;
		if (!LOC3) goto LA5;
		result = i;
		goto BeforeRet;
	}
	goto LA1;
	LA5: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1: ;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(TY129057*, bytestowords_129052)(NU8* bytes, NI bytesLen0) {
	TY129057* result;
	NI n;
	NI TMP551;
	NI TMP552;
	nimfr("bytesToWords", "util.nim")
	result = 0;
	nimln(83, "util.nim");
	TMP551 = divInt((bytesLen0-1), ((NI) 4));
	TMP552 = addInt((NI)(TMP551), ((NI) 1));
	n = (NI)(TMP552);
	nimln(84, "util.nim");
	result = newseq_129070(((NI)chckRange(n, ((NI) 0), ((NI) IL64(9223372036854775807)))));
	{
		NI i_129108;
		NI HEX3Atmp_129164;
		NI res_129167;
		i_129108 = 0;
		HEX3Atmp_129164 = 0;
		nimln(85, "util.nim");
		HEX3Atmp_129164 = subInt(n, 1);
		nimln(1598, "system.nim");
		res_129167 = ((NI) 0);
		{
			nimln(1599, "system.nim");
			while (1) {
				NI TMP558;
				if (!(res_129167 <= HEX3Atmp_129164)) goto LA3;
				nimln(1600, "system.nim");
				i_129108 = res_129167;
				{
					NI j_129127;
					NI res_129160;
					j_129127 = 0;
					nimln(1598, "system.nim");
					res_129160 = ((NI) 0);
					{
						nimln(1599, "system.nim");
						while (1) {
							NI index;
							NI TMP554;
							NI TMP555;
							NU32 data;
							NU8 LOC7;
							NI TMP556;
							NI TMP557;
							if (!(res_129160 <= ((NI) 3))) goto LA6;
							nimln(1600, "system.nim");
							j_129127 = res_129160;
							nimln(87, "util.nim");
							TMP554 = mulInt(i_129108, ((NI) 4));
							TMP555 = addInt((NI)(TMP554), j_129127);
							index = (NI)(TMP555);
							nimln(88, "util.nim");
							LOC7 = 0;
							nimln(89, "util.nim");
							{
								if (!(index < bytesLen0)) goto LA10;
								if ((NU)(index) >= (NU)(bytesLen0)) raiseIndexError();
								LOC7 = bytes[index];
							}
							goto LA8;
							LA10: ;
							{
								LOC7 = ((NU8) 0);
							}
							LA8: ;
							data = ((NU32) (LOC7));
							nimln(91, "util.nim");
							if ((NU)(i_129108) >= (NU)(result->Sup.len)) raiseIndexError();
							if ((NU)(i_129108) >= (NU)(result->Sup.len)) raiseIndexError();
							TMP556 = mulInt(((NI) 8), j_129127);
							result->data[i_129108] = (NU32)(result->data[i_129108] | (NU32)((NU32)(data) << (NU32)(((NU32) ((NI)(TMP556))))));
							nimln(1619, "system.nim");
							TMP557 = addInt(res_129160, ((NI) 1));
							res_129160 = (NI)(TMP557);
						} LA6: ;
					}
				}
				TMP558 = addInt(res_129167, ((NI) 1));
				res_129167 = (NI)(TMP558);
			} LA3: ;
		}
	}
	popFrame();
	return result;
}
NIM_EXTERNC N_NOINLINE(void, random_utilInit)(void) {
	nimfr("util", "util.nim")
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, random_utilDatInit)(void) {
NTI129057.size = sizeof(TY129057*);
NTI129057.kind = 24;
NTI129057.base = (&NTI124);
NTI129057.flags = 2;
NTI129057.marker = TMP553;
}

